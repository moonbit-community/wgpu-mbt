{"id":"wgpu_mbt-00f","title":"wgpu queries: surface caps items + supported feature items","description":"Expose indexed accessors for surface capabilities arrays and supported feature lists, with root tests.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T14:20:38.91471+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:28:51.197289+08:00","closed_at":"2026-01-27T14:28:51.197289+08:00","close_reason":"epic complete"}
{"id":"wgpu_mbt-00f.1","title":"wrap: surface capabilities item accessors","description":"Add C stubs to get format/presentMode/alphaMode at index, plus wrapper methods and tests.","notes":"Implementing surface capabilities index getters","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:20:57.981386+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:28:51.013693+08:00","closed_at":"2026-01-27T14:28:51.013693+08:00","close_reason":"implemented surface capabilities indexed accessors + test","dependencies":[{"issue_id":"wgpu_mbt-00f.1","depends_on_id":"wgpu_mbt-00f","type":"parent-child","created_at":"2026-01-27T14:20:57.982121+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-00f.2","title":"wrap: supported features item accessors","description":"Add C stubs to get feature name at index for Adapter/Device supported features, plus wrapper methods and tests.","notes":"Implementing supported feature item accessors","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:20:58.068543+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:28:51.105425+08:00","closed_at":"2026-01-27T14:28:51.105425+08:00","close_reason":"implemented supported features indexed accessors + test","dependencies":[{"issue_id":"wgpu_mbt-00f.2","depends_on_id":"wgpu_mbt-00f","type":"parent-child","created_at":"2026-01-27T14:20:58.069166+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-08u","title":"WGPU: render pass viewport + scissor","description":"Port RenderPassEncoder setViewport + setScissorRect; validate via offscreen render + readback with beads.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:24:58.110164+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:29:20.483041+08:00","closed_at":"2026-01-26T15:29:20.483041+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-08u.1","title":"Declare/bindings: RenderPass set_viewport + set_scissor_rect","description":"Add raw externs + wrapper methods for wgpuRenderPassEncoderSetViewport and wgpuRenderPassEncoderSetScissorRect.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:25:08.42705+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:29:20.479868+08:00","closed_at":"2026-01-26T15:29:20.479868+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-08u.1","depends_on_id":"wgpu_mbt-08u","type":"parent-child","created_at":"2026-01-26T15:25:08.427579+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-08u.2","title":"Test: viewport+scissor restricts draw (beads)","description":"Render to 4x4 texture, set scissor 1x1, draw red, copy texture-\u003ebuffer, assert pixel inside scissor is red and pixel outside is clear.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:25:08.506301+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:29:20.481568+08:00","closed_at":"2026-01-26T15:29:20.481568+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-08u.2","depends_on_id":"wgpu_mbt-08u","type":"parent-child","created_at":"2026-01-26T15:25:08.506865+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-0ku","title":"Comprehensive WGPU tests","description":"Expand MoonBit test coverage for WGPU wrapper (macOS/Metal native-only)","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T17:25:35.247855+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:39:16.427006+08:00","closed_at":"2026-01-26T17:39:16.42701+08:00"}
{"id":"wgpu_mbt-0ku.1","title":"Buffer test suite","description":"Add buffer-focused tests (padding, map alignment, copy offsets)","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:25:43.078939+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:37:47.493397+08:00","closed_at":"2026-01-26T17:37:47.4934+08:00","dependencies":[{"issue_id":"wgpu_mbt-0ku.1","depends_on_id":"wgpu_mbt-0ku","type":"parent-child","created_at":"2026-01-26T17:25:43.079642+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-0ku.2","title":"Texture test suite","description":"Add texture-focused tests (copy, layout, write_texture padding)","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:25:43.166562+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:37:47.666244+08:00","closed_at":"2026-01-26T17:37:47.666247+08:00","dependencies":[{"issue_id":"wgpu_mbt-0ku.2","depends_on_id":"wgpu_mbt-0ku","type":"parent-child","created_at":"2026-01-26T17:25:43.16721+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-0ku.3","title":"Sampler + misc tests","description":"Add sampler/filtering tests and misc API smoke","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:25:43.250671+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:37:47.747976+08:00","closed_at":"2026-01-26T17:37:47.747978+08:00","dependencies":[{"issue_id":"wgpu_mbt-0ku.3","depends_on_id":"wgpu_mbt-0ku","type":"parent-child","created_at":"2026-01-26T17:25:43.251302+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-0ku.4","title":"Land comprehensive tests","description":"Run moon info/fmt/check/test, then commit + push","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:25:43.333728+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:39:16.351862+08:00","closed_at":"2026-01-26T17:39:16.351864+08:00","dependencies":[{"issue_id":"wgpu_mbt-0ku.4","depends_on_id":"wgpu_mbt-0ku","type":"parent-child","created_at":"2026-01-26T17:25:43.334334+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-0sk","title":"WGPU: offscreen render pipeline (no surface)","description":"Port minimal render pipeline path: create RGBA8 texture, render pass, draw full-screen triangle, copy texture-\u003ebuffer, map readback to assert pixel. macOS/Metal only.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T14:58:58.731718+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:05:55.086322+08:00","closed_at":"2026-01-26T15:05:55.086322+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-0sk.1","title":"Declare/bindings: Texture + TextureView + RenderPipeline + RenderPassEncoder","description":"Add raw extern types and C stubs for: create RGBA8 2D texture, create view, create render pipeline (vs/ps from WGSL), begin render pass (single color attachment), copy texture-\u003ebuffer. Add releases and minimal pass methods (set_pipeline/draw/end).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:59:29.229818+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:05:55.0836+08:00","closed_at":"2026-01-26T15:05:55.0836+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-0sk.1","depends_on_id":"wgpu_mbt-0sk","type":"parent-child","created_at":"2026-01-26T14:59:29.230442+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-0sk.2","title":"Test: offscreen render + readback pixel (beads)","description":"WGSL vertex_index full-screen triangle + constant fragment color. Render to 1x1 RGBA8Unorm texture, copy to readback buffer, map and assert RGBA bytes. Record beads events and snapshot.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:59:29.323479+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:05:55.085045+08:00","closed_at":"2026-01-26T15:05:55.085045+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-0sk.2","depends_on_id":"wgpu_mbt-0sk","type":"parent-child","created_at":"2026-01-26T14:59:29.324059+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-194","title":"WebGPU parity: resource lifecycle helpers (destroy/labels)","description":"Add missing lifecycle/label helpers to the MoonBit wrapper layer.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T16:29:15.866923+08:00","created_by":"Milky2018","updated_at":"2026-01-27T17:39:51.34533+08:00","closed_at":"2026-01-27T17:39:51.34533+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-194.1","title":"Add Device::destroy and Texture::destroy","description":"Expose wgpuDeviceDestroy and wgpuTextureDestroy through raw + wrapper + tests.","notes":"Added raw externs for wgpuDeviceDestroy/wgpuTextureDestroy; exposed as Device::destroy and Texture::destroy; added test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T16:29:32.263448+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:33:50.577667+08:00","closed_at":"2026-01-27T16:33:50.577668+08:00","dependencies":[{"issue_id":"wgpu_mbt-194.1","depends_on_id":"wgpu_mbt-194","type":"parent-child","created_at":"2026-01-27T16:29:32.264409+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-1mk","title":"WGPU: render bind group (uniform buffer)","description":"Port render-pass bind group path with uniform buffer; validate via offscreen render reading back color.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:20:15.29369+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:23:43.75646+08:00","closed_at":"2026-01-26T15:23:43.75646+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-1mk.1","title":"Declare/bindings: uniform bind group for render + render pass set_bind_group","description":"Add C stubs + raw externs: create bind group layout (uniform buffer), create bind group (uniform buffer), render pass set_bind_group0.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:20:27.886134+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:23:43.752191+08:00","closed_at":"2026-01-26T15:23:43.752191+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-1mk.1","depends_on_id":"wgpu_mbt-1mk","type":"parent-child","created_at":"2026-01-26T15:20:27.886646+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-1mk.2","title":"Declare/bindings: render pipeline pos2 with explicit pipeline layout","description":"Add C stub + raw extern for render pipeline (pos2) that takes PipelineLayout* so we can bind uniform buffer.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:20:27.963986+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:23:43.754006+08:00","closed_at":"2026-01-26T15:23:43.754006+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-1mk.2","depends_on_id":"wgpu_mbt-1mk","type":"parent-child","created_at":"2026-01-26T15:20:27.964737+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-1mk.3","title":"Test: offscreen render with uniform color (beads)","description":"Render 1x1 using pos2 vertex buffer + uniform vec4 color bound at group(0)/binding(0), assert pixel from readback.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:20:28.048084+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:23:43.755198+08:00","closed_at":"2026-01-26T15:23:43.755198+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-1mk.3","depends_on_id":"wgpu_mbt-1mk","type":"parent-child","created_at":"2026-01-26T15:20:28.048735+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-1sn","title":"wgpu: indirect dispatch + draw","description":"Expose ComputePass dispatch_workgroups_indirect and RenderPass draw_indirect/draw_indexed_indirect, plus BufferUsage_Indirect constant. Add root tests that render a pixel via draw_indirect and run compute via dispatch_indirect.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T10:24:07.231141+08:00","created_by":"Milky2018","updated_at":"2026-01-27T10:33:44.119593+08:00","closed_at":"2026-01-27T10:33:44.119595+08:00","dependencies":[{"issue_id":"wgpu_mbt-1sn","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T10:24:07.231847+08:00","created_by":"Milky2018"}],"comments":[{"id":11,"issue_id":"wgpu_mbt-1sn","author":"Milky2018","text":"Implemented indirect dispatch/draw APIs (ComputePass.dispatch_workgroups_indirect, RenderPass.draw_indirect/draw_indexed_indirect) and added root tests for draw_indirect + dispatch_indirect. Added buffer usage constants for INDIRECT and QUERY_RESOLVE.","created_at":"2026-01-27T02:33:44Z"}]}
{"id":"wgpu_mbt-2gy","title":"refactor: move wgpu -\u003e src and tests into src/tests","description":"Rename package directory wgpu/ to src/, add moon.mod.json source=src, move root tests to src/tests, and keep cmd runnable.","notes":"Applying directory rename + source root changes","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:40:59.624223+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:43:53.915336+08:00","closed_at":"2026-01-27T14:43:53.915336+08:00","close_reason":"renamed wgpu/ -\u003e src/, set source=src, moved tests to src/tests, kept cmd runnable via symlink"}
{"id":"wgpu_mbt-5ue","title":"Surface/Texture/BindGroup wrapper parity (phase 2)","description":"Follow-ups after adding basic Surface configure/caps arrays, Texture getters, and extra BindGroup layouts. Focus on more general/ergonomic APIs and parity with webgpu.h where safe.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T19:39:59.832556+08:00","created_by":"Milky2018","updated_at":"2026-01-27T20:09:20.291568+08:00","closed_at":"2026-01-27T20:09:20.291568+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-5ue.1","title":"Surface: configure with viewFormats + better selection","description":"Add Surface::configure that supports viewFormats list and more ergonomic selection (format/present/alpha). Consider returning chosen config and/or validated values.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T19:40:09.259069+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:58:41.571896+08:00","closed_at":"2026-01-27T19:58:41.571896+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-5ue.1","depends_on_id":"wgpu_mbt-5ue","type":"parent-child","created_at":"2026-01-27T19:40:09.260069+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-5ue.2","title":"SurfaceTexture: expose status constants + helper","description":"Add consts for WGPUSurfaceGetCurrentTextureStatus and a helper like SurfaceTexture::is_ok / Surface::get_current_texture_checked.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T19:40:09.381464+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:53:41.183685+08:00","closed_at":"2026-01-27T19:53:41.183685+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-5ue.2","depends_on_id":"wgpu_mbt-5ue","type":"parent-child","created_at":"2026-01-27T19:40:09.382413+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-5ue.3","title":"BindGroup: generic builder for arbitrary entries","description":"Expose safe-ish builders for BindGroupLayout/BindGroup with arbitrary entries (buffers/samplers/textures), likely via C descriptor helpers + MoonBit wrappers.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T19:40:09.541293+08:00","created_by":"Milky2018","updated_at":"2026-01-27T20:09:20.186767+08:00","closed_at":"2026-01-27T20:09:20.186767+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-5ue.3","depends_on_id":"wgpu_mbt-5ue","type":"parent-child","created_at":"2026-01-27T19:40:09.542188+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-5ue.4","title":"Texture: format/dimension constants + nicer APIs","description":"Add missing consts for common WGPUTextureFormat / WGPUTextureDimension and consider higher-level helpers (size2d, mip count, etc.).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T19:40:09.658749+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:53:41.184852+08:00","closed_at":"2026-01-27T19:53:41.184852+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-5ue.4","depends_on_id":"wgpu_mbt-5ue","type":"parent-child","created_at":"2026-01-27T19:40:09.659977+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-61i","title":"WGPU: copy buffer-\u003etexture (RGBA8) + readback","description":"Add CommandEncoder copy_buffer_to_texture path (hardcode RGBA8 + bytesPerRow=256 for now), plus a native-only root test that uploads one RGBA pixel via buffer-\u003etexture then copies texture-\u003ebuffer and readbacks bytes. macOS/Metal only.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:49:10.15528+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:37:14.113536+08:00","closed_at":"2026-01-27T09:37:14.113536+08:00","close_reason":"Closed","comments":[{"id":4,"issue_id":"wgpu_mbt-61i","author":"Milky2018","text":"Done: CommandEncoder buffer-\u003etexture RGBA8 path + readback implemented; covered by root tests (e.g. wgpu_copy_buffer_to_texture_test.mbt) and all 54 tests pass.","created_at":"2026-01-27T01:37:14Z"}]}
{"id":"wgpu_mbt-6m3","title":"webgpu_capi: align texture copy + queue writeTexture","description":"Replace mbt_wgpu_command_encoder_copy_{texture_to_buffer,buffer_to_texture,texture_to_texture}_rgba8 and mbt_wgpu_queue_write_texture_rgba8_2d usage with descriptor builders (WGPUTexelCopy* + WGPUExtent3D) and direct calls to webgpu.h externs (wgpuCommandEncoderCopy* / wgpuQueueWriteTexture).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T10:14:19.771066+08:00","created_by":"Milky2018","updated_at":"2026-01-27T10:17:57.701133+08:00","closed_at":"2026-01-27T10:17:57.701134+08:00","dependencies":[{"issue_id":"wgpu_mbt-6m3","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T10:14:19.77172+08:00","created_by":"Milky2018"}],"comments":[{"id":9,"issue_id":"wgpu_mbt-6m3","author":"Milky2018","text":"Implemented WGPUTexelCopy* + WGPUExtent3D descriptor builders and switched raw copy/queue-write helpers to call webgpu.h externs (wgpuCommandEncoderCopy* / wgpuQueueWriteTexture). Removed now-unused mbt_wgpu_* copy/write stubs.","created_at":"2026-01-27T02:17:57Z"}]}
{"id":"wgpu_mbt-70f","title":"WGPU: render pipeline vertex buffer path","description":"Port minimal render pipeline variant that consumes a vertex buffer (setVertexBuffer) and validates by offscreen render + readback.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:09:51.278277+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:12:37.561581+08:00","closed_at":"2026-01-26T15:12:37.561581+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-70f.1","title":"Declare/bindings: render pipeline with vertex buffer (pos2)","description":"Add C stub for a render pipeline with one vertex buffer: Float32x2 @location(0). Bind render pass set_vertex_buffer.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:09:58.837835+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:12:37.558374+08:00","closed_at":"2026-01-26T15:12:37.558374+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-70f.1","depends_on_id":"wgpu_mbt-70f","type":"parent-child","created_at":"2026-01-26T15:09:58.838418+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-70f.2","title":"Test: offscreen render using vertex buffer (beads)","description":"Create vertex buffer, queue.write_buffer 3 verts, render red pixel, copy texture-\u003ebuffer, map/readback and assert. Record beads.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:09:58.919931+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:12:37.560253+08:00","closed_at":"2026-01-26T15:12:37.560253+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-70f.2","depends_on_id":"wgpu_mbt-70f","type":"parent-child","created_at":"2026-01-26T15:09:58.920498+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-766","title":"WGPU: copy buffer-\u003etexture (RGBA8) + readback","description":"Add CommandEncoder copy_buffer_to_texture path (hardcode RGBA8 + bytesPerRow=256 for now), plus a native-only root test that uploads one RGBA pixel via buffer-\u003etexture then copies texture-\u003ebuffer and readbacks bytes. macOS/Metal only.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:49:26.970407+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:53:18.419808+08:00","closed_at":"2026-01-26T15:53:18.419808+08:00","close_reason":"All child tasks completed; tests pass"}
{"id":"wgpu_mbt-766.1","title":"Declare/bindings: CommandEncoder copy_buffer_to_texture_rgba8 stub + wrapper","description":"Add C stub to call wgpuCommandEncoderCopyBufferToTexture with WGPUImageCopyBuffer/WGPUImageCopyTexture/WGPUExtent3D; expose extern in raw.mbt and wrapper method in wgpu.mbt.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:49:35.04592+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:53:18.350177+08:00","closed_at":"2026-01-26T15:53:18.350177+08:00","close_reason":"Implemented + covered by passing native tests","dependencies":[{"issue_id":"wgpu_mbt-766.1","depends_on_id":"wgpu_mbt-766","type":"parent-child","created_at":"2026-01-26T15:49:35.04648+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-766.2","title":"Test: buffer-\u003etexture-\u003ebuffer roundtrip (beads)","description":"Create upload buffer (CopySrc|CopyDst) size=256, queue.write_buffer first 4 bytes as RGBA; create RGBA8 texture (CopyDst|CopySrc), command encoder copy_buffer_to_texture, then copy_texture_to_buffer and readback; assert pixel bytes and snapshot beads.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:49:41.950865+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:53:18.352507+08:00","closed_at":"2026-01-26T15:53:18.352507+08:00","close_reason":"Implemented + covered by passing native tests","dependencies":[{"issue_id":"wgpu_mbt-766.2","depends_on_id":"wgpu_mbt-766","type":"parent-child","created_at":"2026-01-26T15:49:41.951409+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-89d","title":"WGPU spec completion","description":"Implement remaining WGPU API to satisfy spec tests","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T16:59:54.364487+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:15:50.885631+08:00","closed_at":"2026-01-26T17:15:50.885633+08:00"}
{"id":"wgpu_mbt-89d.1","title":"Implement wrapper/stub gaps","description":"Implement missing MoonBit wrapper methods and C stubs used by spec tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:00:00.165289+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:15:32.222791+08:00","closed_at":"2026-01-26T17:15:32.222793+08:00","dependencies":[{"issue_id":"wgpu_mbt-89d.1","depends_on_id":"wgpu_mbt-89d","type":"parent-child","created_at":"2026-01-26T17:00:00.167745+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-89d.2","title":"Enable spec tests","description":"Enable spec tests and fix expectations to pass","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:00:04.142544+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:15:39.899974+08:00","closed_at":"2026-01-26T17:15:39.899976+08:00","dependencies":[{"issue_id":"wgpu_mbt-89d.2","depends_on_id":"wgpu_mbt-89d","type":"parent-child","created_at":"2026-01-26T17:00:04.14313+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-89d.3","title":"Validate full test suite","description":"Run moon info/fmt/check/test and ensure all pass","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:00:08.12748+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:15:45.389183+08:00","closed_at":"2026-01-26T17:15:45.389184+08:00","dependencies":[{"issue_id":"wgpu_mbt-89d.3","depends_on_id":"wgpu_mbt-89d","type":"parent-child","created_at":"2026-01-26T17:00:08.128039+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-8bs","title":"No declaration_only warnings","description":"Eliminate moon check declaration_unimplemented warnings by implementing webgpu_capi_spec","notes":"All declaration_only warnings resolved via generated webgpu_capi placeholder impl.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T18:09:27.864546+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:25:55.671875+08:00","closed_at":"2026-01-26T18:25:55.671879+08:00"}
{"id":"wgpu_mbt-8bs.1","title":"Generate webgpu_capi impl","description":"Generate wgpu/c/webgpu_capi.mbt with concrete types + stub functions","notes":"Generated wgpu/c/webgpu_capi.mbt implementing webgpu_capi_spec.mbt declarations (opaque #external types + panic() stubs).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T18:09:35.775387+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:24:18.923511+08:00","closed_at":"2026-01-26T18:24:18.923515+08:00","dependencies":[{"issue_id":"wgpu_mbt-8bs.1","depends_on_id":"wgpu_mbt-8bs","type":"parent-child","created_at":"2026-01-26T18:09:35.776167+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-8bs.2","title":"Land warning cleanup","description":"Run moon check/info/fmt/test and push","notes":"moon check clean; moon test passes; committed and pushed cfe4e48.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T18:09:35.867694+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:25:55.606217+08:00","closed_at":"2026-01-26T18:25:55.60622+08:00","dependencies":[{"issue_id":"wgpu_mbt-8bs.2","depends_on_id":"wgpu_mbt-8bs","type":"parent-child","created_at":"2026-01-26T18:09:35.86843+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-8pe","title":"wgpu-native extras: report/enumerate/log/spirv","description":"Finish binding remaining functions from vendor/wgpu-native/ffi/wgpu.h: wgpuGenerateReport, wgpuInstanceEnumerateAdapters (Metal), wgpuSetLogLevel, wgpuGetVersion, wgpuDeviceCreateShaderModuleSpirV. Expose wrappers + root tests (macOS/Metal only).","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T13:16:38.869063+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:43:28.933597+08:00","closed_at":"2026-01-27T13:43:28.933597+08:00","close_reason":"all tasks in epic complete"}
{"id":"wgpu_mbt-8pe.1","title":"wrap: wgpuGetVersion + wgpuSetLogLevel","description":"Expose get_version + set_log_level in @wgpu and add basic root test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:16:54.012726+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:22:37.059401+08:00","closed_at":"2026-01-27T13:22:37.059401+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-8pe.1","depends_on_id":"wgpu_mbt-8pe","type":"parent-child","created_at":"2026-01-27T13:16:54.013441+08:00","created_by":"Milky2018"}],"comments":[{"id":27,"issue_id":"wgpu_mbt-8pe.1","author":"Milky2018","text":"Added @wgpu.get_version() (wgpuGetVersion) and @wgpu.set_log_level(level) (wgpuSetLogLevel) plus log_level_* constants; added root test wgpu_log_version_test.mbt.","created_at":"2026-01-27T05:22:36Z"}]}
{"id":"wgpu_mbt-8pe.2","title":"wrap: instance.enumerate_adapters (Metal)","description":"Add C stub + wrapper to enumerate adapters for Metal backend; add test asserting count\u003e0 and optionally return an adapter.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:16:54.096598+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:24:39.094855+08:00","closed_at":"2026-01-27T13:24:39.094855+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-8pe.2","depends_on_id":"wgpu_mbt-8pe","type":"parent-child","created_at":"2026-01-27T13:16:54.097199+08:00","created_by":"Milky2018"}],"comments":[{"id":28,"issue_id":"wgpu_mbt-8pe.2","author":"Milky2018","text":"Added CAMetal-only adapter enumeration via C stub mbt_wgpu_instance_enumerate_adapters_count_metal + wrapper Instance::enumerate_adapters_count_metal; added root test wgpu_enumerate_adapters_test.mbt.","created_at":"2026-01-27T05:24:39Z"}]}
{"id":"wgpu_mbt-8pe.3","title":"wrap: generate_report","description":"Add C stub allocating WGPUGlobalReport + getters for a few fields; wrapper + test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:16:54.179346+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:43:28.258037+08:00","closed_at":"2026-01-27T13:43:28.258037+08:00","close_reason":"implemented Instance::generate_report wrapper + test","dependencies":[{"issue_id":"wgpu_mbt-8pe.3","depends_on_id":"wgpu_mbt-8pe","type":"parent-child","created_at":"2026-01-27T13:16:54.179932+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-8pe.4","title":"wrap: create_shader_module_spirv","description":"Add descriptor builder (copy u32 words) + wrapper Device::create_shader_module_spirv + test that module can be created (if no SPIR-V, mark unsupported).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:16:54.2607+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:43:28.596783+08:00","closed_at":"2026-01-27T13:43:28.596783+08:00","close_reason":"implemented Device::create_shader_module_spirv wrapper + feature-gated test","dependencies":[{"issue_id":"wgpu_mbt-8pe.4","depends_on_id":"wgpu_mbt-8pe","type":"parent-child","created_at":"2026-01-27T13:16:54.261321+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-979","title":"Audit and complete WebGPU C API parity","description":"Goal: ensure MoonBit bindings cover the full wgpu-native C API surface (webgpu.h + wgpu.h extras) for macOS/Metal-only, native-only.\\n\\nApproach:\\n- Audit vendor headers vs generated bindings\\n- Add missing extern declarations\\n- Add focused tests for newly-added APIs where feasible","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T15:39:39.912274+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:12:43.912567+08:00","closed_at":"2026-01-27T16:12:43.912567+08:00","close_reason":"Completed audit: all wgpu symbols from vendor headers are bound; updated spec stubs and added tests/coverage tooling."}
{"id":"wgpu_mbt-979.1","title":"Audit vendor webgpu.h/wgpu.h symbols vs src/c bindings","description":"Write a small script to extract function symbol names from vendor headers and from src/c/*.mbt extern bindings, then diff.","notes":"Started: write header/binding symbol diff script.\nResult: scripts/audit_wgpu_capi_symbols.py reports 212 header symbols and 212 mbt extern symbols; missing=0.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:39:48.317445+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:06:53.778099+08:00","closed_at":"2026-01-27T16:06:53.778101+08:00","dependencies":[{"issue_id":"wgpu_mbt-979.1","depends_on_id":"wgpu_mbt-979","type":"parent-child","created_at":"2026-01-27T15:39:48.318425+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-979.2","title":"Implement missing C API externs (if any)","description":"Add any missing extern declarations (generated or handwritten) for uncovered wgpu-native symbols.","notes":"No missing symbols found in audit; no extern additions required.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:39:57.295425+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:06:54.040502+08:00","closed_at":"2026-01-27T16:06:54.040503+08:00","dependencies":[{"issue_id":"wgpu_mbt-979.2","depends_on_id":"wgpu_mbt-979","type":"parent-child","created_at":"2026-01-27T15:39:57.296435+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-979.3","title":"Add tests for newly ported APIs","description":"For any newly added API, add tests under src/tests to cover basic invocation and safety.","notes":"Added src/tests/wgpu_coverage_uncovered_test.mbt to exercise previously-uncovered helper branches; total tests now 93.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:40:05.465256+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:07:31.314061+08:00","closed_at":"2026-01-27T16:07:31.314062+08:00","dependencies":[{"issue_id":"wgpu_mbt-979.3","depends_on_id":"wgpu_mbt-979","type":"parent-child","created_at":"2026-01-27T15:40:05.46685+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-979.4","title":"Fix #declaration_only spec stubs to be parser-valid (moon coverage)","description":"moon coverage analyze currently fails because *_spec.mbt uses #declaration_only pub fn ... { ... }. Replace with declaration-only signatures (no body) so all tools accept them.","notes":"Repro: moon coverage analyze fails with error 4193 complaining declaration bodies must be empty in *_spec.mbt.\nFixed: switch *_spec.mbt function stubs to  (and update generator) so Total tests: 93, passed: 93, failed: 0. works.\nFixed (follow-up): switch *_spec.mbt function stubs to MoonBit declare syntax (declare pub fn ...) and update scripts/gen_webgpu_capi_spec.py; moon test --enable-coverage + moon coverage analyze now work.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:46:39.506395+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:07:22.41899+08:00","closed_at":"2026-01-27T16:06:54.908695+08:00","dependencies":[{"issue_id":"wgpu_mbt-979.4","depends_on_id":"wgpu_mbt-979","type":"parent-child","created_at":"2026-01-27T15:46:39.507322+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-9es","title":"wgpu: set_bind_group(index, offsets) + pipeline layout 2","description":"Expose RenderPass/ComputePass set_bind_group for arbitrary group index with dynamic offsets. Add pipeline layout builder for 2 bind group layouts (create_pipeline_layout_2). Add root tests: (1) dynamic uniform buffer offsets select different colors, (2) pipeline layout with two groups (sampler+texture in group0, uniform in group1).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T11:33:24.646562+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:40:14.99975+08:00","closed_at":"2026-01-27T11:40:14.99975+08:00","close_reason":"Implemented + tests","dependencies":[{"issue_id":"wgpu_mbt-9es","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T11:33:24.647209+08:00","created_by":"Milky2018"}],"comments":[{"id":18,"issue_id":"wgpu_mbt-9es","author":"Milky2018","text":"Implemented multi bind groups + dynamic offsets: pipeline layout (2 BGLs), RenderPass/ComputePass set_bind_group(index, dynamic_offsets), dynamic uniform BGL + fixed-size(16) uniform bind group for offsets. Added root tests for dynamic uniform offset selection and 2-group pipeline layout. moon test: 68/68.","created_at":"2026-01-27T03:40:14Z"}]}
{"id":"wgpu_mbt-9hy","title":"WGPU: index buffer + draw_indexed","description":"Port render pass index buffer binding + draw_indexed path; validate via offscreen render + readback with beads.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:14:02.546582+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:17:59.404059+08:00","closed_at":"2026-01-26T15:17:59.404059+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-9hy.1","title":"Declare/bindings: render pass set_index_buffer + draw_indexed","description":"Add C stub for set_index_buffer_u16, raw externs, wrapper methods for set_index_buffer_u16 and draw_indexed.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:14:19.00723+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:17:59.401231+08:00","closed_at":"2026-01-26T15:17:59.401231+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-9hy.1","depends_on_id":"wgpu_mbt-9hy","type":"parent-child","created_at":"2026-01-26T15:14:19.007781+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-9hy.2","title":"Test: offscreen render with index buffer (beads)","description":"Use existing pos2 vertex pipeline but call draw_indexed with bound index buffer; read back red pixel.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:14:19.087288+08:00","created_by":"Milky2018","updated_at":"2026-01-26T15:17:59.40285+08:00","closed_at":"2026-01-26T15:17:59.40285+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-9hy.2","depends_on_id":"wgpu_mbt-9hy","type":"parent-child","created_at":"2026-01-26T15:14:19.087899+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-afh","title":"webgpu: timestamp queries","description":"Implement AdapterHasFeature(TimestampQuery) gating; add QueryType_Timestamp constant getter + Device::create_query_set_timestamp; add CommandEncoder::write_timestamp + resolve query set; add root test that runs only when adapter supports TimestampQuery.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T10:37:46.16523+08:00","created_by":"Milky2018","updated_at":"2026-01-27T10:47:35.874014+08:00","closed_at":"2026-01-27T10:47:35.874016+08:00","dependencies":[{"issue_id":"wgpu_mbt-afh","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T10:37:46.165895+08:00","created_by":"Milky2018"}],"comments":[{"id":12,"issue_id":"wgpu_mbt-afh","author":"Milky2018","text":"Implemented timestamp query support: added FeatureName/QueryType getters (webgpu TimestampQuery + native TimestampQueryInsideEncoders), added feature-gated device request enabling required features, QuerySet timestamp creation, and CommandEncoder.write_timestamp + resolve/copy readback test.","created_at":"2026-01-27T02:47:35Z"}]}
{"id":"wgpu_mbt-avd","title":"WebGPU CAPI: implement real webgpu.h bindings","description":"Replace placeholder generated in wgpu/c/webgpu_capi.mbt (opaque #external types + panic stubs) with real extern \"C\" bindings and correct value/enum/layout types.","notes":"Generated externs are real and exercised by tests; remaining work is making enums/by-value structs usable without bespoke stubs.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T18:27:48.806477+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:36:35.787816+08:00","closed_at":"2026-01-27T12:36:35.787816+08:00","close_reason":"Closed","comments":[{"id":5,"issue_id":"wgpu_mbt-avd","author":"Milky2018","text":"Progress update (2026-01-27): webgpu_capi.mbt now contains full extern signatures and is actively used by raw wrappers + descriptor builders; tests are green. Remaining gap vs 'complete' CAPI usability: value/enum/layout types (e.g. WGPUStringView, WGPUColor, enums) still need MoonBit-friendly representations or C wrapper getters/builders.","created_at":"2026-01-27T01:38:32Z"},{"id":22,"issue_id":"wgpu_mbt-avd","author":"Milky2018","text":"Closed avd.4: enums/flags now modeled as numeric types (UInt/UInt64) instead of opaque externs; regenerated bindings and kept tests green.","created_at":"2026-01-27T04:36:35Z"}]}
{"id":"wgpu_mbt-avd.1","title":"webgpu_capi: generate extern signatures","description":"Update scripts/gen_webgpu_capi_spec.py to generate real \"pub extern \"C\" fn\" declarations against vendor/wgpu-native/ffi/webgpu.h, plus correct pointer types and #borrow/#owned annotations.","notes":"Generated complete extern \"C\" declarations for webgpu.h exports and aliased raw handle names (Instance/Device/Buffer/...) to WGPU* handle types for incremental implementation.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T18:27:54.712681+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:56:27.422161+08:00","closed_at":"2026-01-26T18:56:27.422164+08:00","dependencies":[{"issue_id":"wgpu_mbt-avd.1","depends_on_id":"wgpu_mbt-avd","type":"parent-child","created_at":"2026-01-26T18:27:54.713443+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-avd.2","title":"webgpu_capi: make pointer types usable","description":"Replace placeholder pointer wrapper types (e.g. BytePtr/UnitPtr/*Ptr) with a safe MoonBit representation (null, #borrow/#owned), and add minimal helpers for passing NULL and string views.","notes":"*Ptr aliasing + NULL pointer helpers landed (commit f9195a8).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T18:56:27.502239+08:00","created_by":"Milky2018","updated_at":"2026-01-26T19:08:34.139632+08:00","closed_at":"2026-01-26T19:08:34.139634+08:00","dependencies":[{"issue_id":"wgpu_mbt-avd.2","depends_on_id":"wgpu_mbt-avd","type":"parent-child","created_at":"2026-01-26T18:56:27.502812+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-avd.3","title":"webgpu_capi: implement descriptor builders","description":"Add C stubs (uv.mbt style) to build commonly-used descriptor structs (Buffer/Texture/ShaderModule/Pipeline/etc.) so MoonBit can call the generated webgpu.h externs directly.","notes":"Aligned command_encoder_begin_compute_pass to webgpu.h (wgpuCommandEncoderBeginComputePass) via a small compute pass descriptor builder.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T18:56:27.583663+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:21:11.474366+08:00","closed_at":"2026-01-27T09:21:11.474366+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-avd.3","depends_on_id":"wgpu_mbt-avd","type":"parent-child","created_at":"2026-01-26T18:56:27.584225+08:00","created_by":"Milky2018"}],"comments":[{"id":1,"issue_id":"wgpu_mbt-avd.3","author":"Milky2018","text":"Added render-pass descriptor builders in C stubs and switched raw begin-render-pass helpers to call generated webgpu.h extern wgpuCommandEncoderBeginRenderPass + free descriptor.","created_at":"2026-01-27T01:21:11Z"}]}
{"id":"wgpu_mbt-avd.4","title":"webgpu_capi: model enums/flags as numeric","description":"Update generator so enums/flag typedefs are emitted as MoonBit numeric types instead of opaque #external; regenerate outputs; ensure moon check/test stay green.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:34:09.985461+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:36:35.612036+08:00","closed_at":"2026-01-27T12:36:35.612036+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-avd.4","depends_on_id":"wgpu_mbt-avd","type":"parent-child","created_at":"2026-01-27T12:34:09.986089+08:00","created_by":"Milky2018"}],"comments":[{"id":21,"issue_id":"wgpu_mbt-avd.4","author":"Milky2018","text":"Generator now detects enum typedefs + primitive/flag typedef chains and emits concrete MoonBit type aliases in webgpu_capi_spec.mbt; webgpu_capi.mbt no longer defines these as opaque #external. Regenerated outputs; moon check has no declaration warnings; moon test 70/70.","created_at":"2026-01-27T04:36:35Z"}]}
{"id":"wgpu_mbt-bny","title":"wgpu: storage texture binding (compute write)","description":"Add bind group layout + bind group builders for a write-only storage texture (rgba8unorm, 2D). Add wrapper APIs and a root test that writes a pixel via WGSL textureStore in compute, then copies texture to buffer for readback.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T11:26:28.366687+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:29:32.763322+08:00","closed_at":"2026-01-27T11:29:32.763322+08:00","close_reason":"Implemented + tests","dependencies":[{"issue_id":"wgpu_mbt-bny","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T11:26:28.36737+08:00","created_by":"Milky2018"}],"comments":[{"id":17,"issue_id":"wgpu_mbt-bny","author":"Milky2018","text":"Implemented storage texture binding (rgba8unorm, write-only, 2D): added BGL + BG descriptor builders and wrapper APIs; added root test that writes a green pixel via WGSL textureStore in compute and reads back via copyTextureToBuffer. moon test: 66/66.","created_at":"2026-01-27T03:29:32Z"}]}
{"id":"wgpu_mbt-chw","title":"webgpu_capi: QuerySet + occlusion query","description":"Expose QuerySet handle + DeviceCreateQuerySet (descriptor builder), CommandEncoderResolveQuerySet, RenderPass begin/end occlusion query. Add constants for BufferUsage_QueryResolve and QueryType_Occlusion. Add root test that creates a query set, runs a render pass with occlusion query, resolves to buffer, and reads back u64 (skip if unsupported).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T10:24:07.141694+08:00","created_by":"Milky2018","updated_at":"2026-01-27T10:33:43.973205+08:00","closed_at":"2026-01-27T10:33:43.973206+08:00","dependencies":[{"issue_id":"wgpu_mbt-chw","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T10:24:07.142414+08:00","created_by":"Milky2018"}],"comments":[{"id":10,"issue_id":"wgpu_mbt-chw","author":"Milky2018","text":"Implemented QuerySet support: generator aliases WGPUQuerySet-\u003eQuerySet; added query-set descriptor builder + QueryType_Occlusion getter; added CommandEncoder.resolve_query_set and RenderPass occlusion query APIs; added begin_render_pass_color_occlusion to include occlusionQuerySet in render pass descriptor; added root test (best-effort).","created_at":"2026-01-27T02:33:43Z"}]}
{"id":"wgpu_mbt-cqd","title":"wgpu: multi render targets (2 color attachments)","description":"Add render pipeline descriptor builder with 2 RGBA8 color targets and render pass descriptor builder with 2 color attachments. Expose Device::create_render_pipeline_rgba8_mrt2 and CommandEncoder::begin_render_pass_color2, plus root test verifying writing distinct colors to each target.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T11:22:04.948416+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:24:53.437811+08:00","closed_at":"2026-01-27T11:24:53.437811+08:00","close_reason":"Implemented + tests","dependencies":[{"issue_id":"wgpu_mbt-cqd","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T11:22:04.94905+08:00","created_by":"Milky2018"}],"comments":[{"id":16,"issue_id":"wgpu_mbt-cqd","author":"Milky2018","text":"Implemented MRT2: render pipeline descriptor with 2 RGBA8 targets + render pass descriptor with 2 color attachments; exposed Device::create_render_pipeline_rgba8_mrt2 and CommandEncoder::begin_render_pass_color2; added root test verifying distinct colors. moon test: 65/65.","created_at":"2026-01-27T03:24:53Z"}]}
{"id":"wgpu_mbt-crm","title":"webgpu_capi: Color wrappers (blend constant)","description":"Add C wrappers that accept float/double components to build WGPUColor by value and call APIs that take WGPUColor: at least wgpuRenderPassEncoderSetBlendConstant. Expose via wgpu/c/raw.mbt + wgpu wrapper method + root test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T09:41:12.292193+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:47:00.413987+08:00","closed_at":"2026-01-27T09:47:00.413997+08:00","dependencies":[{"issue_id":"wgpu_mbt-crm","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T09:41:12.293901+08:00","created_by":"Milky2018"}],"comments":[{"id":7,"issue_id":"wgpu_mbt-crm","author":"Milky2018","text":"Implemented render-pass blend constant wrapper (rgba doubles) via C helper + raw/wgpu method; covered by wgpu_spec_stringview_color_test.mbt.","created_at":"2026-01-27T01:47:00Z"}]}
{"id":"wgpu_mbt-cs6","title":"postadd: install macOS libwgpu_native dylib to ~/.local/lib","description":"Enhance scripts/postadd.sh to (on macOS) copy vendor/wgpu-native/target/release/libwgpu_native.dylib to /Users/zhengyu/.local/lib/libwgpu_native.dylib when present, and document the stable location in README.","status":"closed","priority":2,"issue_type":"chore","owner":"842376130@qq.com","created_at":"2026-02-01T21:56:03.335929+08:00","created_by":"Milky2018","updated_at":"2026-02-01T21:56:09.127952+08:00","closed_at":"2026-02-01T21:56:09.127952+08:00","close_reason":"Implemented + documented"}
{"id":"wgpu_mbt-csg","title":"WGPU: queue.write_buffer + compute readback test","description":"Add Queue::write_buffer wrapper (bytes-\u003ewgpuQueueWriteBuffer) and a test that writes initial u32, runs compute to mutate it, then read back via map_read buffer.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T14:50:55.796427+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:55:07.741681+08:00","closed_at":"2026-01-26T14:55:07.741681+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-csg.1","title":"Declare/bindings: queue write_buffer stub","description":"Add C stub + extern for wgpuQueueWriteBuffer accepting MoonBit Bytes+len.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:51:03.716485+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:55:07.738558+08:00","closed_at":"2026-01-26T14:55:07.738558+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-csg.1","depends_on_id":"wgpu_mbt-csg","type":"parent-child","created_at":"2026-01-26T14:51:03.71711+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-csg.2","title":"Test: queue write_buffer + compute increments value","description":"Write u32=1 into storage buffer via queue.write_buffer, compute shader increments, copy to readback buffer, map/readback expects 2. Record beads.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:51:03.803501+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:55:07.740347+08:00","closed_at":"2026-01-26T14:55:07.740347+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-csg.2","depends_on_id":"wgpu_mbt-csg","type":"parent-child","created_at":"2026-01-26T14:51:03.804042+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-cvn","title":"Implement real set_label calls (non no-op)","description":"Replace C stub no-op label helpers with calls to the underlying wgpu*SetLabel APIs where safe; keep known-panicking debug-marker APIs as no-ops; ensure tests cover and remain stable.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T17:52:55.709469+08:00","created_by":"Milky2018","updated_at":"2026-01-27T17:55:35.226162+08:00","closed_at":"2026-01-27T17:55:35.226162+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-d1l","title":"Spec-first: expand wgpu API contract + full red test suite","description":"Per request: write tests first so Total tests: 11, passed: 11, failed: 0. is red; keep  green. Add #declaration_only spec for planned wgpu API subset (macOS/Metal, WGSL), then add many root-level tests that exercise it.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T16:22:11.896829+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:28:33.952264+08:00","closed_at":"2026-01-26T16:28:33.952264+08:00","close_reason":"Spec-first suite landed (expected-red until implementation)"}
{"id":"wgpu_mbt-d1l.1","title":"Spec: declare full planned wgpu API in wgpu_spec.mbt","description":"Expand  using #declaration_only: declare core types + methods (instance/adapter/device/queue/resources/pipelines/passes/bindings/sampler/texture ops). Keep it matching eventual wrapper API; no implementations here.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T16:22:19.314674+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:28:33.815008+08:00","closed_at":"2026-01-26T16:28:33.815008+08:00","close_reason":"Spec contract file added/expanded; moon check passes","dependencies":[{"issue_id":"wgpu_mbt-d1l.1","depends_on_id":"wgpu_mbt-d1l","type":"parent-child","created_at":"2026-01-26T16:22:19.318288+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-d1l.2","title":"Tests: add spec-driven root test suite (expected-red)","description":"Add many new root-level *_test.mbt files that exercise the spec API (buffers/textures/samplers/pipelines/passes), and register them in root moon.pkg.json targets so moon check type-checks them. Tests are allowed to be failing until implementations arrive.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T16:22:40.834597+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:28:33.885367+08:00","closed_at":"2026-01-26T16:28:33.885367+08:00","close_reason":"Spec-driven tests added; moon check passes; moon test intentionally red","dependencies":[{"issue_id":"wgpu_mbt-d1l.2","depends_on_id":"wgpu_mbt-d1l","type":"parent-child","created_at":"2026-01-26T16:22:40.835175+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc","title":"wgpu: full WebGPU FFI parity","description":"Goal: make MoonBit wrapper usable for the entire WebGPU C API (wgpu-native).\n\nScope:\n- Provide ergonomic MoonBit wrappers for all WGPU handle methods and helper constructors.\n- Add descriptor builders (or generator) for all common WGPU*Descriptor structs.\n- Expand tests to exercise each subsystem (surface, texture, bind groups, pipelines, passes, mapping).\n\nNotes:\n- Keep avoiding wgpuInstanceWaitAny (panics in this vendor). Use Instance::wait_any_one shim.","status":"open","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T20:45:13.057953+08:00","created_by":"Milky2018","updated_at":"2026-01-27T20:45:13.057953+08:00"}
{"id":"wgpu_mbt-dkc.1","title":"Generate descriptor builders for WebGPU structs","description":"Auto-generate or implement builder helpers for WGPU*Descriptor / layout structs (Texture, TextureView, Sampler, Pipeline, Pass, etc.) so wrapper users can construct arbitrary descriptors safely.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T20:45:23.562682+08:00","created_by":"Milky2018","updated_at":"2026-01-27T20:45:23.562682+08:00","dependencies":[{"issue_id":"wgpu_mbt-dkc.1","depends_on_id":"wgpu_mbt-dkc.6","type":"parent-child","created_at":"2026-02-01T12:38:03.616798+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.1","title":"Builder: RequestAdapterOptions (featureLevel/backend/surface)","description":"Add a C-side builder for WGPURequestAdapterOptions (featureLevel is required by C API) and a safe wrapper API to request an adapter without requiring users to hand-write C structs.","acceptance_criteria":"New APIs exist to (1) allocate/free a request-adapter options ptr, and (2) Instance can request an adapter with explicit featureLevel/backend/powerPreference/compatibleSurface. Added tests cover at least one non-default combination.","notes":"Implemented RequestAdapterOptions builder + safe wrapper APIs; added best-effort backendType test; released in v0.2.3.","status":"closed","priority":1,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:38:15.501297+08:00","created_by":"Milky2018","updated_at":"2026-02-01T12:44:45.418912+08:00","closed_at":"2026-02-01T12:44:45.418912+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.1","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T12:38:15.502393+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.2","title":"Builder: DeviceDescriptor (label + requiredFeatures)","description":"Add a C-side builder for WGPUDeviceDescriptor that safely owns its label + requiredFeatures array, plus a free() API. Expose a high-level Adapter::request_device_sync_with_features(...) helper.","acceptance_criteria":"Users can request a device with an explicit feature list without writing structs. Descriptor memory is freed explicitly. Add tests that request at least one optional feature when supported.","notes":"Added C-owned DeviceDescriptor builder (label + requiredFeatures + defaultQueue label) and Adapter::request_device_sync_with_features; tests added; released in v0.2.4.","status":"closed","priority":1,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:38:21.913179+08:00","created_by":"Milky2018","updated_at":"2026-02-01T12:50:41.129862+08:00","closed_at":"2026-02-01T12:50:41.129862+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.2","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T12:38:21.914247+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.3","title":"Builder: RequiredLimits (selected fields) + DeviceDescriptor wiring","description":"Add a limited RequiredLimits builder covering a small set of high-value limits (e.g., maxBindGroups, maxDynamicUniformBuffersPerPipelineLayout, maxUniformBufferBindingSize, maxStorageBufferBindingSize). Wire it into the DeviceDescriptor builder.","acceptance_criteria":"MoonBit can request a device with requiredLimits != null for the supported subset; tests validate builder lifetime + request succeeds on at least one backend.","notes":"Added RequiredLimits builder backed by adapter limits + override fields; wired into new Adapter::request_device_sync_with_features_and_limits; added test; released in v0.2.6.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:38:29.910648+08:00","created_by":"Milky2018","updated_at":"2026-02-01T13:49:55.928875+08:00","closed_at":"2026-02-01T13:49:55.928875+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.3","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T12:38:29.911842+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.4","title":"Ergonomics: General RenderPipelineDescriptor builder (MVP)","description":"Move from many fixed helpers to a composable pipeline descriptor builder: configurable color target format + blend + writeMask, optional depth, and custom entry point names. Keep it minimal but extensible.","acceptance_criteria":"At least one new builder API can reproduce existing rgba8/alpha_blend/depth helpers; add tests demonstrating a non-RGBA8 format + alpha blend (already exists) and one custom entry point name.","notes":"Added composable RenderPipelineDescriptor builder: Device::create_render_pipeline_color_format_entries supports custom vs/fs entry point names, alpha_blend/depth toggles, and color write mask. Added test. Released in v0.2.5.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:38:38.719665+08:00","created_by":"Milky2018","updated_at":"2026-02-01T13:43:20.108677+08:00","closed_at":"2026-02-01T13:43:20.108677+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.4","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T12:38:38.720966+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.5","title":"I/O helpers: generic copy/write texture with bytes_per_row alignment","description":"Expose helpers to build WGPUTexelCopy* structs and compute aligned bytes_per_row for common uncompressed formats. Provide safe wrappers for queue.write_texture / encoder.copy_texture_to_buffer beyond rgba8-only.","acceptance_criteria":"New helper APIs exist for at least BGRA8Unorm/RGBA8Unorm; tests cover one non-rgba8 roundtrip.","notes":"Added generic bytes_per_pixel helpers for queue.write_texture (2D + mip/layer) and encoder.copy_texture_to_buffer (2D + mip/layer) with 256-byte row alignment; added BGRA8Unorm test; released in v0.2.7.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:38:52.367785+08:00","created_by":"Milky2018","updated_at":"2026-02-01T13:57:36.598527+08:00","closed_at":"2026-02-01T13:57:36.598527+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.5","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T12:38:52.368751+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.6","title":"RenderPipelineDescriptor arena builder (MVP, gh-3)","description":"Implement a C-backed WGPURenderPipelineDescriptor arena/builder (single alloc) to avoid combinatorial helper APIs. MVP: 1 color target, 1 vertex buffer, N attrs, entry points, alpha blend, topology; explicit free; expose in c package + MoonBit ergonomic wrapper; add tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T22:14:15.613584+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:33:00.758817+08:00","closed_at":"2026-02-01T22:33:00.758817+08:00","close_reason":"Implemented MVP arena builder + wrapper + tests","external_ref":"gh-3","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.6","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T22:14:15.614692+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.7","title":"RenderPipelineDescBuilder: depth-stencil support","description":"Extend the arena builder to optionally set depthStencil state (format, depthWriteEnabled, depthCompare) and expose minimal MoonBit wrapper + tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T22:33:30.780015+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:43:49.132273+08:00","closed_at":"2026-02-01T22:43:49.132273+08:00","close_reason":"Implemented depth-stencil setter on RenderPipelineDescBuilder + tests","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.7","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T22:33:30.781194+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.8","title":"RenderPipelineDescBuilder: multiple vertex buffers + N attributes","description":"Extend the arena builder to support multiple vertex buffers, each with N attributes (bounded arrays). Expose APIs to add buffers/attrs; add tests using a second buffer (e.g. pos2 + uv) to validate correct binding.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T22:33:43.282645+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:51:55.708656+08:00","closed_at":"2026-02-01T22:51:55.708656+08:00","close_reason":"Implemented multiple vertex buffers support (bounded) + tests","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.8","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T22:33:43.283786+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.1.9","title":"RenderPipelineDescBuilder: MRT (multiple color targets)","description":"Extend builder to support targetCount\u003e1 (MRT) with per-target format/writeMask/blend; add tests using RGBA8 MRT2 helper parity.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T22:34:09.066842+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:58:20.830173+08:00","closed_at":"2026-02-01T22:58:20.830173+08:00","close_reason":"Implemented MRT color target count/format setters on RenderPipelineDescBuilder + tests","dependencies":[{"issue_id":"wgpu_mbt-dkc.1.9","depends_on_id":"wgpu_mbt-dkc.1","type":"parent-child","created_at":"2026-02-01T22:34:09.067888+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.2","title":"Expose remaining handle methods in src/wgpu.mbt","description":"Add MoonBit wrapper methods for remaining WGPU objects (Device, Queue, Buffer, Texture, Sampler, BindGroup*, Pipeline*, Pass*, etc.) beyond current convenience APIs.","notes":"Progress (2026-01-28): added Instance::create_ptr and RenderBundleEncoder::finish_ptr, and updated wgpu_ptr_constructors_test to exercise both.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T20:45:23.789553+08:00","created_by":"Milky2018","updated_at":"2026-01-28T17:32:56.904696+08:00","closed_at":"2026-01-28T17:32:56.904696+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dkc.2","depends_on_id":"wgpu_mbt-dkc","type":"parent-child","created_at":"2026-01-27T20:45:23.790667+08:00","created_by":"Milky2018"}],"comments":[{"id":29,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: added ptr variants for sync adapter/device requests: Instance::request_adapter_sync_ptr(WGPURequestAdapterOptionsPtr) and Adapter::request_device_sync_ptr(WGPUDeviceDescriptorPtr), plus typed null builders for both; updated ptr constructors test accordingly.","created_at":"2026-01-28T07:36:53Z"},{"id":30,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: exposed more RenderBundleEncoder methods (draw_indexed/indirect, set_index_buffer_u16/u32, set_vertex_buffer, set_bind_group0). Updated wgpu_render_bundle_test to cover indexed draw.","created_at":"2026-01-28T07:44:42Z"},{"id":31,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: added RenderBundleEncoder missing handle methods: set_bind_group (dynamic offsets), insert/push/pop debug markers; added C utf8 stubs and raw helpers; extended render bundle test to exercise bind group + debug marker APIs.","created_at":"2026-01-28T07:55:28Z"},{"id":32,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: exposed more remaining wrapper surface: BindGroupLayoutBuilder::free + BindGroupBuilder::free; CommandEncoder ptr-based copy APIs (buffer\u003c-\u003etexture, texture-\u003etexture); Queue::write_texture_ptr using existing borrowed-bytes binding. Added tests: wgpu_builder_free_test, wgpu_copy_ptr_test, wgpu_queue_write_texture_ptr_test.","created_at":"2026-01-28T08:03:28Z"},{"id":33,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: added Buffer::usage_u64 via wgpuBufferGetUsage + test. Tried wgpuBufferGetMapState but wgpu-native currently aborts (unimplemented), so map-state wrapper was not added.","created_at":"2026-01-28T08:12:27Z"},{"id":34,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: added script-based full wrapper generation: scripts/gen_wgpu_wrappers.py updates generated sections in src/wgpu.mbt + src/wgpu_spec.mbt (handle types + handle methods). Generator currently skips by-value struct APIs (WGPUStringView/*CallbackInfo) and also skips UnitPtr/UIntPtr APIs for now; safe existing wrappers still cover common cases (labels/debug markers, bind groups, push constants, queue write_buffer/texture, etc).","created_at":"2026-01-28T08:39:50Z"},{"id":35,"issue_id":"wgpu_mbt-dkc.2","author":"Milky2018","text":"2026-01-28: Generator now covers previously-skipped WGPUStringView/UIntPtr/UnitPtr/CallbackInfo APIs via existing utf8/Bytes helpers and sync fallbacks. Added Device::{create_compute,create_render}_pipeline_async_sync_ptr and ShaderModule::get_compilation_info_sync_status_u32. Note: wgpu-native panics on *Async + GetCompilationInfo in this build, so C helpers fall back to sync create*Pipeline and return 0 for compilation-info status; follow-up tracked in wgpu_mbt-dkc.5.","created_at":"2026-01-28T09:32:50Z"}]}
{"id":"wgpu_mbt-dkc.2.1","title":"Generator: handle WGPUStringView APIs (labels/debug markers)","description":"Extend scripts/gen_wgpu_wrappers.py to generate wrapper methods for WGPUStringView-based APIs by routing to existing *_set_label_utf8 / *_insert_debug_marker_utf8 / *_push_debug_group_utf8 stubs (or generate missing stubs).\\n\\nAcceptance:\\n- No skipped functions solely due to WGPUStringView for supported handles\\n- moon test passes","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-28T16:40:19.276475+08:00","created_by":"Milky2018","updated_at":"2026-01-28T17:32:56.902438+08:00","closed_at":"2026-01-28T17:32:56.902438+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dkc.2.1","depends_on_id":"wgpu_mbt-dkc.2","type":"parent-child","created_at":"2026-01-28T16:40:19.278009+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.2.2","title":"Generator: handle UnitPtr/UIntPtr APIs (bind groups, push constants, mapped range)","description":"Extend scripts/gen_wgpu_wrappers.py to generate wrappers for UnitPtr/UIntPtr APIs (or route to existing safe helpers) without type mismatches. Target APIs include SetBindGroup (dynamic offsets), SetPushConstants, QueueWriteBuffer/Texture raw, BufferGetMappedRange, etc.\\n\\nAcceptance:\\n- Generator no longer skips UnitPtr/UIntPtr solely due to pointer types OR emits documented safe alternatives\\n- moon test passes","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-28T16:40:33.388744+08:00","created_by":"Milky2018","updated_at":"2026-01-28T17:32:56.903398+08:00","closed_at":"2026-01-28T17:32:56.903398+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dkc.2.2","depends_on_id":"wgpu_mbt-dkc.2","type":"parent-child","created_at":"2026-01-28T16:40:33.389747+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.2.3","title":"Generator: handle CallbackInfo/Future APIs via C sync helpers","description":"Many WebGPU APIs use by-value *CallbackInfo structs and return WGPUFuture (request adapter/device, pop error scope, queue onSubmittedWorkDone, pipeline async creation, shader compilation info, etc). Add/extend C helper stubs that provide synchronous or poll-based wrappers where feasible, then teach scripts/gen_wgpu_wrappers.py to emit MoonBit methods against those helpers instead of skipping.\\n\\nAcceptance:\\n- Skipped list shrinks for key callback-based APIs (at least request adapter/device, pop error scope, queue work done)\\n- moon test passes","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-28T16:40:43.632822+08:00","created_by":"Milky2018","updated_at":"2026-01-28T17:32:56.904072+08:00","closed_at":"2026-01-28T17:32:56.904072+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dkc.2.3","depends_on_id":"wgpu_mbt-dkc.2","type":"parent-child","created_at":"2026-01-28T16:40:43.633654+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.3","title":"Add broader Surface backend support","description":"Implement surface creation/configuration for non-metal backends (e.g., Windows/D3D12, Linux/Vulkan) when available in wgpu-native build options.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T20:45:24.373099+08:00","created_by":"Milky2018","updated_at":"2026-01-27T20:45:24.373099+08:00","dependencies":[{"issue_id":"wgpu_mbt-dkc.3","depends_on_id":"wgpu_mbt-dkc.6","type":"parent-child","created_at":"2026-02-01T12:38:03.730381+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.3.1","title":"Surface: choose+configure best defaults from capabilities","description":"Provide a pure MoonBit strategy helper that inspects SurfaceCapabilities and picks format/presentMode/alphaMode based on preferences (vsync, srgb, etc.), then calls configure_view_formats_u32.","acceptance_criteria":"New Surface::configure_best_effort(...) API exists and is covered by tests on at least one platform.","notes":"Added Surface::configure_best_effort (format/present/alpha selection + usage clamping) and a smoke test on Metal surface; released in v0.2.8.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:38:45.541556+08:00","created_by":"Milky2018","updated_at":"2026-02-01T14:02:06.553534+08:00","closed_at":"2026-02-01T14:02:06.553534+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.3.1","depends_on_id":"wgpu_mbt-dkc.3","type":"parent-child","created_at":"2026-02-01T12:38:45.543055+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.4","title":"Expand integration tests for full API surface","description":"Add tests that exercise the new wrappers and descriptor builders across render/compute, mapping, pipeline creation, and surface present paths.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T20:45:25.887338+08:00","created_by":"Milky2018","updated_at":"2026-01-27T20:45:25.887338+08:00","dependencies":[{"issue_id":"wgpu_mbt-dkc.4","depends_on_id":"wgpu_mbt-dkc.6","type":"parent-child","created_at":"2026-02-01T12:38:03.841689+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.4.1","title":"Tests: coverage for new descriptor/options builders","description":"Add blackbox tests for RequestAdapterOptions builder, DeviceDescriptor builder, and any new pipeline/texture helpers. Prefer snapshot inspect unless assertion loops are needed.","acceptance_criteria":"All newly added public APIs are exercised by at least one test; tests run on macOS with MBT_WGPU_NATIVE_LIB set.","notes":"Added test for Instance::request_adapter_sync_options_surface_u32 (Metal best-effort). Coverage for newly added public option/builder APIs is now in place; released in v0.2.9.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:39:00.541557+08:00","created_by":"Milky2018","updated_at":"2026-02-01T20:55:39.866246+08:00","closed_at":"2026-02-01T20:55:39.866246+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.4.1","depends_on_id":"wgpu_mbt-dkc.4","type":"parent-child","created_at":"2026-02-01T12:39:00.542594+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.5","title":"wgpu: use real async/callback APIs when wgpu-native implements them","description":"Currently, wgpu-native in this repo build panics on several async/callback entry points (e.g. wgpuDeviceCreate*PipelineAsync, wgpuShaderModuleGetCompilationInfo). We provide sync fallbacks/stubs to avoid aborts.\\n\\nFollow-up:\\n- Detect availability of these entry points (or gate by wgpu-native version/features)\\n- Switch helpers to call the real async APIs when implemented\\n- For compilation info, return actual messages (not only status)","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-28T17:32:28.785048+08:00","created_by":"Milky2018","updated_at":"2026-01-28T17:32:28.785048+08:00","dependencies":[{"issue_id":"wgpu_mbt-dkc.5","depends_on_id":"wgpu_mbt-dkc.6","type":"parent-child","created_at":"2026-02-01T12:38:03.954289+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.5.1","title":"Callbacks: expose wgpuSetLogCallback to MoonBit","description":"Add a C bridge so MoonBit can register a log callback (level + message). Ensure safe lifetime management and a way to reset to default/no-op.","acceptance_criteria":"New API exists to set/clear log callback; add a test that enables logging and triggers at least one known log line (or smoke-test registration without crashing).","notes":"Added C-backed helper to set/clear wgpuSetLogCallback (stderr printer) via wgpu.set_log_callback_stderr_enabled; added smoke test; released in v0.2.10.","status":"closed","priority":3,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:39:12.3097+08:00","created_by":"Milky2018","updated_at":"2026-02-01T21:02:40.328775+08:00","closed_at":"2026-02-01T21:02:40.328775+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.5.1","depends_on_id":"wgpu_mbt-dkc.5","type":"parent-child","created_at":"2026-02-01T12:39:12.31055+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.5.2","title":"Callbacks: uncaptured error + device lost callbacks in MoonBit","description":"Provide optional MoonBit-level handlers for uncaptured errors and device-lost. Requires C-side bridge + storage for function pointers/userdata. Keep current default no-op behavior as fallback.","acceptance_criteria":"New APIs exist to register/clear handlers; manual test or automated test demonstrates handler is invoked on a forced error scope/device lost scenario.","notes":"Added stderr-enabled flags for device-lost + uncaptured-error callbacks (implemented in sync helper callbacks); exposed as wgpu.set_device_lost_stderr_enabled / wgpu.set_uncaptured_error_stderr_enabled; added smoke test; released in v0.2.11.","status":"closed","priority":3,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:39:19.203733+08:00","created_by":"Milky2018","updated_at":"2026-02-01T21:08:55.400987+08:00","closed_at":"2026-02-01T21:08:55.400987+08:00","close_reason":"done","dependencies":[{"issue_id":"wgpu_mbt-dkc.5.2","depends_on_id":"wgpu_mbt-dkc.5","type":"parent-child","created_at":"2026-02-01T12:39:19.204798+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.6","title":"API usability roadmap (builders, helpers, type-safety)","description":"Track the remaining high-impact API gaps beyond raw WebGPU C bindings: descriptor/options builders, ergonomic helpers, better error surfaces, and eventual type-safe redesign.","acceptance_criteria":"All child tasks are created, prioritized, and implemented incrementally with published releases.","status":"open","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-02-01T12:37:27.616631+08:00","created_by":"Milky2018","updated_at":"2026-02-01T12:37:27.616631+08:00","labels":["roadmap"],"dependencies":[{"issue_id":"wgpu_mbt-dkc.6","depends_on_id":"wgpu_mbt-dkc","type":"parent-child","created_at":"2026-02-01T12:37:27.618685+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.6.1","title":"0.3.0: type-safe enums/newtypes for WebGPU flags/enums","description":"Breaking redesign to reduce misuse of raw UInt/UInt64 constants: introduce newtypes/enums/bitflags for TextureFormat, BufferUsage, ShaderStage, etc., with conversion helpers to raw values.","acceptance_criteria":"A planned migration path exists; major version is bumped when implemented; key public APIs accept typed values instead of raw integers.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-02-01T12:39:26.033256+08:00","created_by":"Milky2018","updated_at":"2026-02-02T11:00:10.796379+08:00","closed_at":"2026-02-02T11:00:10.796379+08:00","close_reason":"All planned typed-wrapper steps done (texture + buffer/stage); shipped by v0.4.0","dependencies":[{"issue_id":"wgpu_mbt-dkc.6.1","depends_on_id":"wgpu_mbt-dkc.6","type":"parent-child","created_at":"2026-02-01T12:39:26.034559+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.6.1.1","title":"Type safety: introduce typed TextureFormat/TextureUsage/TextureDimension","description":"First breaking step: add typed wrappers for the most commonly used texture-related enums/flags and update high-level APIs to use them.","acceptance_criteria":"Public APIs no longer take raw UInt/UInt64 for these fields; conversion helpers exist; tests updated; version bumped to 0.3.0.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-02-01T12:39:32.493107+08:00","created_by":"Milky2018","updated_at":"2026-02-02T09:43:52.557104+08:00","closed_at":"2026-02-02T09:43:52.557104+08:00","close_reason":"v0.3.0: switch key texture APIs to TextureFormat/TextureUsage/TextureDimension wrappers; add Eq impls; update tests","dependencies":[{"issue_id":"wgpu_mbt-dkc.6.1.1","depends_on_id":"wgpu_mbt-dkc.6.1","type":"parent-child","created_at":"2026-02-01T12:39:32.494068+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dkc.6.1.2","title":"Type safety: typed BufferUsage/MapMode/ShaderStage","description":"Second breaking step: add typed wrappers for buffer + shader stage flags and update wrappers/builders accordingly.","acceptance_criteria":"Public APIs updated; tests updated; published as part of 0.3.x.","notes":"Selected breaking option (2): convert existing APIs to typed wrappers; target release 0.4.0","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T12:39:41.244456+08:00","created_by":"Milky2018","updated_at":"2026-02-02T10:56:52.54885+08:00","closed_at":"2026-02-02T10:56:52.54885+08:00","close_reason":"Implemented typed BufferUsage/ShaderStage/MapMode + updated APIs/tests; released as 0.4.0","dependencies":[{"issue_id":"wgpu_mbt-dkc.6.1.2","depends_on_id":"wgpu_mbt-dkc.6.1","type":"parent-child","created_at":"2026-02-01T12:39:41.245486+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dqp","title":"wgpu: timestamp query inside passes","description":"Expose wgpu-native TimestampQueryInsidePasses native feature: AdapterHasFeature(native), request device enabling it, and add RenderPass/ComputePass writeTimestamp bindings (wgpu.h). Add feature-gated root test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T10:48:59.741151+08:00","created_by":"Milky2018","updated_at":"2026-01-27T10:57:04.686499+08:00","closed_at":"2026-01-27T10:57:04.686499+08:00","close_reason":"Implemented + tests passing","dependencies":[{"issue_id":"wgpu_mbt-dqp","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T10:48:59.741844+08:00","created_by":"Milky2018"}],"comments":[{"id":13,"issue_id":"wgpu_mbt-dqp","author":"Milky2018","text":"Implemented TimestampQueryInsidePasses: adapter feature check + requestDevice enabling native feature, RenderPass/ComputePass write_timestamp bindings, and feature-gated root test. moon test: 60/60.","created_at":"2026-01-27T02:56:13Z"}]}
{"id":"wgpu_mbt-dw6","title":"webgpu_capi: align encoder finish + compute setBindGroup","description":"Switch remaining non-struct calls in wgpu/c/raw.mbt to generated webgpu.h externs: wgpuCommandEncoderFinish (with typed null CommandBufferDescriptor) and wgpuComputePassEncoderSetBindGroup for bind_group0 (dynamic offsets = 0/null).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T09:30:24.590246+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:31:33.9707+08:00","closed_at":"2026-01-27T09:31:33.970702+08:00","dependencies":[{"issue_id":"wgpu_mbt-dw6","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T09:30:24.591024+08:00","created_by":"Milky2018"}],"comments":[{"id":2,"issue_id":"wgpu_mbt-dw6","author":"Milky2018","text":"Implemented: raw now calls generated webgpu.h externs for wgpuCommandEncoderFinish (typed null CommandBufferDescriptor) and wgpuComputePassEncoderSetBindGroup for bind_group0 (0 dynamic offsets).","created_at":"2026-01-27T01:31:33Z"}]}
{"id":"wgpu_mbt-dzg","title":"WGPU: port declare + tests for compute storage buffer readback","description":"Goal: add a runtime test that runs a WGSL compute shader writing to a storage buffer and reads back results via map/read, driving missing declarations + FFI stubs. macOS/Metal only.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T14:40:12.022787+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:50:18.285344+08:00","closed_at":"2026-01-26T14:50:18.285344+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-dzg.1","title":"Declare/bindings: bind group + pipeline layout (minimal)","description":"Add raw extern types + C stubs to create: bind group layout (1 storage buffer), bind group (buffer binding), pipeline layout (1 BGL), compute pipeline with explicit layout; add releases.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:40:24.635626+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:50:18.281176+08:00","closed_at":"2026-01-26T14:50:18.281176+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dzg.1","depends_on_id":"wgpu_mbt-dzg","type":"parent-child","created_at":"2026-01-26T14:40:24.63623+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dzg.2","title":"Declare/bindings: buffer map readback sync helper","description":"Add C stub that wraps wgpuBufferMapAsync(mode=Read)+wgpuInstanceProcessEvents loop, memcpy into MoonBit Bytes, then unmap. Expose as extern. Add needed usage bits (MapRead, Storage, CopySrc, CopyDst).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:40:24.712725+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:50:18.28296+08:00","closed_at":"2026-01-26T14:50:18.28296+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dzg.2","depends_on_id":"wgpu_mbt-dzg","type":"parent-child","created_at":"2026-01-26T14:40:24.71328+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-dzg.3","title":"Test: compute writes to storage buffer and read back","description":"Add MoonBit test that writes initial data, dispatches compute, then maps+reads buffer to assert result. Record beads events and snapshot.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T14:40:24.787028+08:00","created_by":"Milky2018","updated_at":"2026-01-26T14:50:18.284172+08:00","closed_at":"2026-01-26T14:50:18.284172+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-dzg.3","depends_on_id":"wgpu_mbt-dzg","type":"parent-child","created_at":"2026-01-26T14:40:24.78763+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-ea0","title":"WGPU: sampler + sampled texture binding (render)","description":"Add minimal sampler + texture binding support for render pipelines (sampler + texture_2d\u003cf32\u003e), validated by offscreen 1x1 render sampling from an uploaded RGBA8 texture. macOS/Metal only.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T15:57:48.664124+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:06:19.62135+08:00","closed_at":"2026-01-26T16:06:19.62135+08:00","close_reason":"All child tasks completed; tests pass"}
{"id":"wgpu_mbt-ea0.1","title":"Declare/bindings: Sampler + bind group layout/bind group for sampler+texture2D","description":"Add Sampler raw type + create/release; add C stubs + externs for bind group layout with sampler(binding0) + texture(binding1) and bind group creation from sampler+texture view. Ensure RGBA8 2D texture creation includes TextureBinding usage.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:57:59.252295+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:06:19.557679+08:00","closed_at":"2026-01-26T16:06:19.557679+08:00","close_reason":"Implemented + covered by passing native tests","dependencies":[{"issue_id":"wgpu_mbt-ea0.1","depends_on_id":"wgpu_mbt-ea0","type":"parent-child","created_at":"2026-01-26T15:57:59.255801+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-ea0.2","title":"Declare/bindings: render pipeline RGBA8 (fullscreen tri) with explicit layout","description":"Add C stub + extern for render pipeline (vertex_index fullscreen triangle variant) that takes PipelineLayout so we can bind sampler+texture. Wrapper method on Device.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:58:06.123073+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:06:19.559114+08:00","closed_at":"2026-01-26T16:06:19.559114+08:00","close_reason":"Implemented + covered by passing native tests","dependencies":[{"issue_id":"wgpu_mbt-ea0.2","depends_on_id":"wgpu_mbt-ea0","type":"parent-child","created_at":"2026-01-26T15:58:06.123675+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-ea0.3","title":"Test: render sampling from uploaded texture (beads)","description":"Upload a 1x1 RGBA8 texture via buffer-\u003etexture copy, sample it in fragment shader using sampler+texture bind group, render to 1x1 target texture, copy to buffer and read back bytes; assert pixel and snapshot beads.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T15:58:15.609633+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:06:19.560513+08:00","closed_at":"2026-01-26T16:06:19.560513+08:00","close_reason":"Implemented + covered by passing native tests","dependencies":[{"issue_id":"wgpu_mbt-ea0.3","depends_on_id":"wgpu_mbt-ea0","type":"parent-child","created_at":"2026-01-26T15:58:15.610178+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-epa","title":"WGPU remaining features","description":"Implement next missing WGPU features beyond current wrappers","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T17:42:32.236226+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:56:01.963962+08:00","closed_at":"2026-01-26T17:56:01.963964+08:00"}
{"id":"wgpu_mbt-epa.1","title":"Depth render support","description":"Add depth texture creation + render pass with depth attachment + depth-tested pipeline","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:42:41.913535+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:50:02.848367+08:00","closed_at":"2026-01-26T17:50:02.84837+08:00","dependencies":[{"issue_id":"wgpu_mbt-epa.1","depends_on_id":"wgpu_mbt-epa","type":"parent-child","created_at":"2026-01-26T17:42:41.914315+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-epa.2","title":"Depth tests + landing","description":"Add depth rendering tests and keep suite green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:42:42.010631+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:56:01.580055+08:00","closed_at":"2026-01-26T17:56:01.580057+08:00","dependencies":[{"issue_id":"wgpu_mbt-epa.2","depends_on_id":"wgpu_mbt-epa","type":"parent-child","created_at":"2026-01-26T17:42:42.011204+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-epa.3","title":"ClearBuffer API","description":"Add CommandEncoder::clear_buffer wrapper + raw extern","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:49:53.140048+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:54:44.005186+08:00","closed_at":"2026-01-26T17:54:44.005188+08:00","dependencies":[{"issue_id":"wgpu_mbt-epa.3","depends_on_id":"wgpu_mbt-epa","type":"parent-child","created_at":"2026-01-26T17:49:53.140791+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-epa.4","title":"IndexBuffer u32","description":"Add RenderPass::set_index_buffer_u32 + tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:49:53.22814+08:00","created_by":"Milky2018","updated_at":"2026-01-26T17:54:44.085548+08:00","closed_at":"2026-01-26T17:54:44.08555+08:00","dependencies":[{"issue_id":"wgpu_mbt-epa.4","depends_on_id":"wgpu_mbt-epa","type":"parent-child","created_at":"2026-01-26T17:49:53.228826+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-evq","title":"wgpu-native extras: wgpu.h bindings + feature coverage","description":"Bind wgpu-native's vendor/wgpu-native/ffi/wgpu.h (native-only, macOS/Metal) and expose key extras in @username/wgpu_mbt/wgpu with root-level tests.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T12:40:19.647447+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:12:31.905806+08:00","closed_at":"2026-01-27T13:12:31.905806+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-evq.1","title":"gen: wgpu_native_capi from wgpu.h","description":"Generate declaration-only spec + extern bindings for vendor/wgpu-native/ffi/wgpu.h, similar to webgpu_capi.*. Ensure moon check has zero declaration_unimplemented warnings.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:40:28.527016+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:45:21.741372+08:00","closed_at":"2026-01-27T12:45:21.741372+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-evq.1","depends_on_id":"wgpu_mbt-evq","type":"parent-child","created_at":"2026-01-27T12:40:28.527696+08:00","created_by":"Milky2018"}],"comments":[{"id":23,"issue_id":"wgpu_mbt-evq.1","author":"Milky2018","text":"Updated scripts/gen_webgpu_capi_spec.py to also parse vendor/wgpu-native/ffi/wgpu.h (extras) and merge into existing webgpu_capi_{spec,impl}.mbt + symbol test, avoiding duplicate type definitions. Verified moon check/test green.","created_at":"2026-01-27T04:45:21Z"}]}
{"id":"wgpu_mbt-evq.2","title":"wrap: device.poll + queue submit_for_index + timestamp_period","description":"Expose wgpuDevicePoll, wgpuQueueSubmitForIndex, wgpuQueueGetTimestampPeriod in wgpu/wgpu.mbt + spec; add passing tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:40:28.605613+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:49:07.63869+08:00","closed_at":"2026-01-27T12:49:07.63869+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-evq.2","depends_on_id":"wgpu_mbt-evq","type":"parent-child","created_at":"2026-01-27T12:40:28.606258+08:00","created_by":"Milky2018"}],"comments":[{"id":24,"issue_id":"wgpu_mbt-evq.2","author":"Milky2018","text":"Added raw bindings + high-level APIs for wgpuDevicePoll / wgpuQueueSubmitForIndex / wgpuQueueGetTimestampPeriod. Added root test wgpu_device_poll_test.mbt (now 71/71).","created_at":"2026-01-27T04:49:07Z"}]}
{"id":"wgpu_mbt-evq.3","title":"wrap: push constants","description":"Expose push-constant APIs + pipeline layout extras; add tests gated by feature support.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:40:28.683875+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:02:38.124081+08:00","closed_at":"2026-01-27T13:02:38.124081+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-evq.3","depends_on_id":"wgpu_mbt-evq","type":"parent-child","created_at":"2026-01-27T12:40:28.684488+08:00","created_by":"Milky2018"}],"comments":[{"id":25,"issue_id":"wgpu_mbt-evq.3","author":"Milky2018","text":"Implemented native push constants support: feature detection + device request with NativeLimits chain, pipeline layout push-constant extras builder, and push-constant setters for RenderPass/ComputePass/RenderBundleEncoder. Added root feature-gated test wgpu_push_constants_test.mbt.","created_at":"2026-01-27T05:02:38Z"}]}
{"id":"wgpu_mbt-evq.4","title":"wrap: multi-draw + pipeline statistics query","description":"Bind multidraw + pipeline statistics query extras, add feature-gated tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:40:28.760874+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:12:10.986403+08:00","closed_at":"2026-01-27T13:12:10.986403+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-evq.4","depends_on_id":"wgpu_mbt-evq","type":"parent-child","created_at":"2026-01-27T12:40:28.761506+08:00","created_by":"Milky2018"}],"comments":[{"id":26,"issue_id":"wgpu_mbt-evq.4","author":"Milky2018","text":"Bound wgpu-native extras: multi-draw indirect (+count variants) and pipeline statistics queries (feature detection + QuerySetDescriptorExtras builder + begin/end APIs). Added tests: wgpu_multi_draw_indirect_test.mbt (best-effort via occlusion query) and wgpu_pipeline_statistics_query_test.mbt (feature-gated).","created_at":"2026-01-27T05:12:10Z"}]}
{"id":"wgpu_mbt-f1r","title":"wgpu: render pipeline helper for alpha blend + arbitrary color format","description":"Expose Device::create_render_pipeline_color_format_alpha_blend(format: TextureFormat) and add a test that alpha-blends over a BGRA8Unorm render target.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T21:55:55.253951+08:00","created_by":"Milky2018","updated_at":"2026-02-01T21:56:09.03134+08:00","closed_at":"2026-02-01T21:56:09.03134+08:00","close_reason":"Implemented + covered by tests"}
{"id":"wgpu_mbt-g7b","title":"wgpu queries: supported features + surface capabilities","description":"Expose supported feature queries (Adapter/Device/Instance WGSL language features) and surface capabilities via safe numeric stubs, with root tests.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T14:04:42.602548+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:10:45.924706+08:00","closed_at":"2026-01-27T14:10:45.924706+08:00","close_reason":"epic complete"}
{"id":"wgpu_mbt-g7b.1","title":"wrap: supported features (adapter/device)","description":"Add C stubs for supported feature count/contains for Adapter and Device. Add wrapper methods + tests.","notes":"Implementing supported features stubs + wrappers + tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:04:51.781687+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:10:45.53218+08:00","closed_at":"2026-01-27T14:10:45.53218+08:00","close_reason":"implemented Adapter/Device supported features count/contains + test","dependencies":[{"issue_id":"wgpu_mbt-g7b.1","depends_on_id":"wgpu_mbt-g7b","type":"parent-child","created_at":"2026-01-27T14:04:51.782404+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-g7b.2","title":"wrap: surface capabilities (counts)","description":"Expose surface capabilities counts (formats/present modes/alpha modes) via C stubs + wrapper + test.","notes":"Implementing surface capabilities counts + test","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:04:51.868311+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:10:45.737815+08:00","closed_at":"2026-01-27T14:10:45.737815+08:00","close_reason":"implemented Surface capabilities counts + test","dependencies":[{"issue_id":"wgpu_mbt-g7b.2","depends_on_id":"wgpu_mbt-g7b","type":"parent-child","created_at":"2026-01-27T14:04:51.868953+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-g7b.3","title":"wrap: instance WGSL language features","description":"Expose instance wgsl language feature count via C stub + wrapper + test.","notes":"Implementing instance WGSL language features + test","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:04:51.952698+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:10:45.831789+08:00","closed_at":"2026-01-27T14:10:45.831789+08:00","close_reason":"added safe WGSL language features count stub (wgpu-native panics) + test","dependencies":[{"issue_id":"wgpu_mbt-g7b.3","depends_on_id":"wgpu_mbt-g7b","type":"parent-child","created_at":"2026-01-27T14:04:51.953327+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-gbg","title":"wgpu: sampler address modes (repeat/mirror)","description":"Add sampler descriptor builders + Device APIs for WGPUAddressMode_Repeat and WGPUAddressMode_MirrorRepeat (nearest/linear). Add root tests that distinguish repeat vs clamp and mirrorRepeat behavior via texture sampling.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T11:03:47.666059+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:09:01.15833+08:00","closed_at":"2026-01-27T11:09:01.15833+08:00","close_reason":"Implemented + tests","dependencies":[{"issue_id":"wgpu_mbt-gbg","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T11:03:47.666727+08:00","created_by":"Milky2018"}],"comments":[{"id":14,"issue_id":"wgpu_mbt-gbg","author":"Milky2018","text":"Added sampler address modes: repeat + mirrorRepeat (nearest/linear) via new sampler descriptor builders + Device APIs; added root tests verifying repeat vs clamp and mirrorRepeat vs repeat. moon test: 62/62.","created_at":"2026-01-27T03:09:01Z"}]}
{"id":"wgpu_mbt-ksk","title":"Remove vendor/wgpu-native from module distribution","description":"Now that wgpu-mbt loads libwgpu_native strictly via MBT_WGPU_NATIVE_LIB, the in-repo vendor/ submodule is no longer required for builds.\n\nFollow-ups:\n- Remove the git submodule vendor/wgpu-native (and .gitmodules entry) from the repo, OR configure MoonBit packaging to exclude vendor/ from published artifacts if supported.\n- Update CI/docs to point to an external wgpu-native build/install source.","status":"closed","priority":2,"issue_type":"chore","owner":"842376130@qq.com","created_at":"2026-01-29T11:55:03.586379+08:00","created_by":"Milky2018","updated_at":"2026-01-29T12:31:19.079084+08:00","closed_at":"2026-01-29T12:31:19.079084+08:00","close_reason":"done","comments":[{"id":36,"issue_id":"wgpu_mbt-ksk","author":"Milky2018","text":"Implemented MoonBit publish exclusion: added moon.mod.json exclude=[\"vendor\"] and verified via 'moon package --list' that vendor/ is not packaged. Removing the git submodule from the repo remains optional cleanup.","created_at":"2026-01-29T04:31:10Z"}]}
{"id":"wgpu_mbt-la8","title":"wgpu: RenderBundle + RenderBundleEncoder","description":"Add RenderBundleEncoder/RenderBundle support: descriptor builders (RGBA8), device create encoder, encoder setPipeline/draw/finish, render pass executeBundles, releases. Add root test rendering a pixel via render bundle to offscreen texture and readback.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T11:42:28.267985+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:50:25.129025+08:00","closed_at":"2026-01-27T11:50:25.129025+08:00","close_reason":"Implemented + tests","dependencies":[{"issue_id":"wgpu_mbt-la8","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T11:42:28.268713+08:00","created_by":"Milky2018"}],"comments":[{"id":19,"issue_id":"wgpu_mbt-la8","author":"Milky2018","text":"Implemented RenderBundle/RenderBundleEncoder (RGBA8): descriptor builders, device create encoder, encoder setPipeline/draw/finish, RenderPass execute_bundles, and releases. Added root test rendering via executeBundles to offscreen texture and readback. moon test: 69/69.","created_at":"2026-01-27T03:50:25Z"}]}
{"id":"wgpu_mbt-lp8","title":"chore: split wgpu_stub.c into modules","description":"Split monolithic wgpu/c/wgpu_stub.c into multiple .c files with shared wgpu_stub.h. Update moon.pkg.json native-stub list. Keep behavior identical and tests passing.","notes":"Refactoring C stubs into multiple translation units + header","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:13:55.603514+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:20:06.773949+08:00","closed_at":"2026-01-27T14:20:06.773949+08:00","close_reason":"split wgpu_stub.c into header + multiple .inc modules; keep native-stub compiling and tests passing"}
{"id":"wgpu_mbt-lru","title":"Add debug label toggle + best-effort SetLabel/markers","description":"Add wgpu.set_debug_labels_enabled(bool) (+ env var) and route set_label/insert_debug_marker/push/pop through wgpuGetProcAddress when enabled to avoid wgpu-native panics/unimplemented; update README; extend smoke test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:05:43.549205+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:11:20.505905+08:00","closed_at":"2026-01-27T18:11:20.505905+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-mji","title":"wgpu: Surface (CAMetalLayer) + present","description":"Implement headless macOS/Metal Surface support using CAMetalLayer via objc runtime in C: create layer, instanceCreateSurface (SurfaceSourceMetalLayer), surface configure (choose preferred format from capabilities), acquire current texture + status, present/unconfigure, and releases. Add root test that renders a green pixel to surface current texture and reads back via copyTextureToBuffer before presenting.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:01:12.087446+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:23:33.801274+08:00","closed_at":"2026-01-27T12:23:33.801274+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-mji","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T12:01:12.088194+08:00","created_by":"Milky2018"}],"comments":[{"id":20,"issue_id":"wgpu_mbt-mji","author":"Milky2018","text":"Implemented CAMetalLayer-backed Surface helpers and wrappers (create/configure/acquire/present/unconfigure/release) + format-aware render pipeline builder; added wgpu_surface_present_test.mbt. All tests pass (moon test).","created_at":"2026-01-27T04:23:25Z"}]}
{"id":"wgpu_mbt-n3m","title":"WebGPU parity: futures/callback helpers (queue work done, device lost, etc.)","description":"Add safe sync helpers for WebGPU future/callback-based APIs (macOS/Metal-only).","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T16:18:03.766107+08:00","created_by":"Milky2018","updated_at":"2026-01-27T17:25:26.586079+08:00","closed_at":"2026-01-27T17:25:26.586079+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-n3m.1","title":"Implement Queue::on_submitted_work_done_sync","description":"Add C stub + raw binding + wrapper + constants + tests for wgpuQueueOnSubmittedWorkDone (sync helper driven by wgpuInstanceProcessEvents).","notes":"Implemented sync helper via C stub (wgpuQueueOnSubmittedWorkDone + instance.process_events loop), exposed as Queue::on_submitted_work_done_sync, added constants and test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T16:18:12.654203+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:22:50.66074+08:00","closed_at":"2026-01-27T16:22:50.660741+08:00","dependencies":[{"issue_id":"wgpu_mbt-n3m.1","depends_on_id":"wgpu_mbt-n3m","type":"parent-child","created_at":"2026-01-27T16:18:12.655178+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-n3m.2","title":"Implement device lost tracking + sync wait","description":"Hook deviceLostCallbackInfo for all device creation paths; expose Device::wait_lost_reason_sync(instance) + Device::take_lost_reason; add constants and tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T16:38:55.603512+08:00","created_by":"Milky2018","updated_at":"2026-01-27T17:23:27.051503+08:00","closed_at":"2026-01-27T17:23:27.051503+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-n3m.2","depends_on_id":"wgpu_mbt-n3m","type":"parent-child","created_at":"2026-01-27T16:38:55.604985+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-n52","title":"webgpu_capi: StringView wrappers (labels + debug markers)","description":"Add C wrappers that accept (bytes,len) to build WGPUStringView and call wgpu* APIs: CommandEncoder/ComputePass/RenderPass setLabel, push/popDebugGroup, insertDebugMarker. Expose via wgpu/c/raw.mbt + wgpu wrapper methods + root tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T09:41:06.093617+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:47:00.269449+08:00","closed_at":"2026-01-27T09:47:00.269451+08:00","dependencies":[{"issue_id":"wgpu_mbt-n52","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T09:41:06.09428+08:00","created_by":"Milky2018"}],"comments":[{"id":6,"issue_id":"wgpu_mbt-n52","author":"Milky2018","text":"Implemented C wrappers + raw/wgpu methods for StringView-based debug APIs (set_label / debug markers / debug groups). NOTE: wgpu-native currently panics for these webgpu.h functions, so wrappers are implemented as no-ops to keep runtime safe; tests cover calling them.","created_at":"2026-01-27T01:47:00Z"}]}
{"id":"wgpu_mbt-n67","title":"wgpu: texture array/mip + view descriptors","description":"Add texture creation for RGBA8 2D array with mipLevelCount, TextureView descriptor builders for selecting mip/layer, and origin-aware queue.writeTexture + encoder copyTextureToBuffer/BufferToTexture helpers. Add root tests verifying per-layer and per-mip behavior.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T11:13:24.862916+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:20:21.148234+08:00","closed_at":"2026-01-27T11:20:21.148234+08:00","close_reason":"Implemented + tests","dependencies":[{"issue_id":"wgpu_mbt-n67","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T11:13:24.863509+08:00","created_by":"Milky2018"}],"comments":[{"id":15,"issue_id":"wgpu_mbt-n67","author":"Milky2018","text":"Implemented texture arrays+mips+views: RGBA8 2D array texture descriptor with mipLevelCount, TextureView descriptor builders for 2D and 2DArray, origin-aware texel copy builder, and new Queue/Encoder helpers for mip+layer write/copy. Added root tests for array layer and mip selection. moon test: 64/64.","created_at":"2026-01-27T03:20:21Z"}]}
{"id":"wgpu_mbt-nnu","title":"Fix bd path casing mismatch (Documents vs documents)","description":"Avoid bd daemon socket mismatch on macOS when the same workspace is accessed with different path casing.\\n\\nFix: set .beads/config.yaml no-daemon: true and auto-start-daemon: false so all bd operations use direct DB access.","status":"closed","priority":2,"issue_type":"bug","owner":"842376130@qq.com","created_at":"2026-01-27T15:38:58.301296+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:39:05.521855+08:00","closed_at":"2026-01-27T15:39:05.521855+08:00","close_reason":"Fixed by disabling daemon in .beads/config.yaml to avoid path casing workspace key mismatch."}
{"id":"wgpu_mbt-nw3","title":"chore: add Apache-2.0 headers","description":"Add the project license header to MoonBit/C source files (exclude vendor and build outputs). Ensure generator outputs include the same header.","status":"closed","priority":2,"issue_type":"chore","owner":"842376130@qq.com","created_at":"2026-01-27T10:05:40.166081+08:00","created_by":"Milky2018","updated_at":"2026-01-27T10:08:20.764461+08:00","closed_at":"2026-01-27T10:08:20.764466+08:00","dependencies":[{"issue_id":"wgpu_mbt-nw3","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T10:05:40.166813+08:00","created_by":"Milky2018"}],"comments":[{"id":8,"issue_id":"wgpu_mbt-nw3","author":"Milky2018","text":"Prepended Apache-2.0 header to all project .mbt/.c sources (excluding vendor/_build/target). Updated generator so regenerated webgpu_capi*.mbt + symbol test also include the header.","created_at":"2026-01-27T02:08:20Z"}]}
{"id":"wgpu_mbt-qqy","title":"Windows support follow-ups (CI, loader, surface)","description":"Now that we have Windows-specific dynamic loader support in src/c/wgpu_dyn.c (LoadLibraryA/GetProcAddress + InitOnce) and a HWND surface helper, follow up with:\n\n- Add Windows CI job to compile + run minimal smoke (headless and/or surface if possible).\n- Validate wgpu-native build instructions and artifact path/name (wgpu_native.dll) on Windows.\n- Consider using LoadLibraryW for non-ASCII paths and printing FormatMessage for errors.\n- Add a small example host integration note: HINSTANCE via GetModuleHandle(NULL), HWND from windowing toolkit.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-30T12:45:12.33732+08:00","created_by":"Milky2018","updated_at":"2026-02-02T10:56:52.653235+08:00","closed_at":"2026-02-02T10:56:52.653235+08:00","close_reason":"Windows follow-ups complete (loader diagnostics + LoadLibraryW + CI)"}
{"id":"wgpu_mbt-qqy.1","title":"Windows loader: include FormatMessage error strings","description":"Improve diagnostics in src/c/wgpu_dyn.c on Windows by printing formatted error strings (FormatMessage) for LoadLibrary/GetProcAddress failures.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T22:07:51.494822+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:08:58.765045+08:00","closed_at":"2026-02-01T22:08:58.765045+08:00","close_reason":"Implemented improved Windows loader diagnostics (FormatMessage + path)","dependencies":[{"issue_id":"wgpu_mbt-qqy.1","depends_on_id":"wgpu_mbt-qqy","type":"parent-child","created_at":"2026-02-01T22:07:51.495986+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-qqy.2","title":"Windows loader: prefer LoadLibraryW for UTF-8 MBT_WGPU_NATIVE_LIB","description":"Use MultiByteToWideChar(CP_UTF8) + LoadLibraryW on Windows to support non-ASCII paths; fallback to LoadLibraryA. Keep error messages with FormatMessage.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T23:02:02.899258+08:00","created_by":"Milky2018","updated_at":"2026-02-01T23:03:26.617419+08:00","closed_at":"2026-02-01T23:03:26.617419+08:00","close_reason":"Implemented LoadLibraryW fallback for UTF-8 paths","dependencies":[{"issue_id":"wgpu_mbt-qqy.2","depends_on_id":"wgpu_mbt-qqy","type":"parent-child","created_at":"2026-02-01T23:02:02.9001+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-qqy.3","title":"GitHub Actions: Windows CI (moon check + build-only tests)","description":"Add a Windows GitHub Actions workflow that installs MoonBit on windows-latest and runs compile-only gates (moon check + moon test --build-only --target native) so CI does not depend on MBT_WGPU_NATIVE_LIB.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T23:25:04.850654+08:00","created_by":"Milky2018","updated_at":"2026-02-01T23:27:22.330531+08:00","closed_at":"2026-02-01T23:27:22.330531+08:00","close_reason":"Added Windows GitHub Actions workflow: install MoonBit + moon check + build-only native tests","dependencies":[{"issue_id":"wgpu_mbt-qqy.3","depends_on_id":"wgpu_mbt-qqy","type":"parent-child","created_at":"2026-02-01T23:25:04.851604+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-t9r","title":"platform: add simple OS detection helpers and skip mac-only surface tests","description":"Add platform_is_macos/platform_is_linux/platform_is_windows helpers (C stub + MoonBit wrapper) and gate Metal surface tests so the test suite can run on non-mac platforms.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-02-01T22:01:01.567313+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:04:45.724537+08:00","closed_at":"2026-02-01T22:04:45.724537+08:00","close_reason":"Implemented + mac tests still pass; enables non-mac test runs"}
{"id":"wgpu_mbt-tyz","title":"Spec: mirror full webgpu.h C API (declaration-only) + symbol coverage test","description":"Generate  from upstream webgpu.h as #declaration_only stubs, and add a root-level test that references all exported symbols.  must pass; [username/wgpu_mbt] test wgpu_spec_texture_usage_test.mbt:2 (\"spec: device.create_texture_rgba8_2d_with_usage (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_texture_usage_test.mbt:17:3-17:78\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Device::create_texture_rgba8_2d_with_usage\n----\n\n[username/wgpu_mbt] test wgpu_spec_sampler_linear_test.mbt:2 (\"spec: device.create_sampler_linear_clamp (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_sampler_linear_test.mbt:14:3-14:71\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Device::create_sampler_linear_clamp\n----\n\n[username/wgpu_mbt] test wgpu_spec_queue_write_texture_test.mbt:2 (\"spec: queue.write_texture_rgba8_2d (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_queue_write_texture_test.mbt:86:3-86:65\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Queue::write_texture_rgba8_2d\n----\n\n[username/wgpu_mbt] test wgpu_spec_queue_submit_multi_test.mbt:2 (\"spec: queue.submit (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_queue_submit_multi_test.mbt:25:3-25:71\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Queue::submit(Array[CommandBuffer])\n----\n\n[username/wgpu_mbt] test wgpu_spec_instance_process_events_test.mbt:2 (\"spec: instance.process_events (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_instance_process_events_test.mbt:10:3-10:60\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Instance::process_events\n----\n\n[username/wgpu_mbt] test wgpu_spec_copy_texture_to_texture_test.mbt:2 (\"spec: encoder.copy_texture_to_texture_rgba8 (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_copy_texture_to_texture_test.mbt:39:3-39:81\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: CommandEncoder::copy_texture_to_texture_rgba8\n----\n\n[username/wgpu_mbt] test wgpu_spec_buffer_map_test.mbt:2 (\"spec: buffer.map_{read,write}_sync + unmap (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_buffer_map_test.mbt:40:3-40:73\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Buffer::map_{read,write}_sync + unmap\n----\n\n[username/wgpu_mbt] test wgpu_spec_buffer_init_test.mbt:2 (\"spec: device.create_buffer_init (expected red until implemented)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_spec_buffer_init_test.mbt:35:3-35:62\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: Device::create_buffer_init\n----\n\n[username/wgpu_mbt] test wgpu_capi_symbols_test.mbt:2 (\"spec: webgpu.h symbol coverage (expected red)\") failed\nexpect test failed at /Users/zhengyu/Documents/projects/wgpu_mbt/wgpu_capi_symbols_test.mbt:197:3-197:63\nDiff: (- expected, + actual)\n----\n-DONE\n+TODO: implement full webgpu.h FFI\n----\n\nTotal tests: 20, passed: 11, failed: 9. intentionally red until FFI is implemented.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T16:48:01.337728+08:00","created_by":"Milky2018","updated_at":"2026-01-26T16:48:12.673309+08:00","closed_at":"2026-01-26T16:48:12.673309+08:00","close_reason":"Generated webgpu.h declaration-only spec + symbol coverage test; moon check passes; moon test intentionally red"}
{"id":"wgpu_mbt-uqx","title":"WebGPU wrapper API parity (phase 1)","description":"Goal: expand MoonBit wrapper coverage beyond current test-driven subset. Track incremental additions (adapter/device info, instance capabilities, limits, future/wait helpers, etc.).","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T18:22:15.115942+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:57:08.924477+08:00","closed_at":"2026-01-27T18:57:08.924477+08:00","close_reason":"Closed"}
{"id":"wgpu_mbt-uqx.1","title":"Expose AdapterInfo strings (vendor/device/description)","description":"Add Adapter::info_vendor/info_architecture/info_device/info_description returning String via C stubs (wgpuAdapterGetInfo + copy bytes). Add smoke test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:22:29.901337+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:30:59.029613+08:00","closed_at":"2026-01-27T18:30:59.029613+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-uqx.1","depends_on_id":"wgpu_mbt-uqx","type":"parent-child","created_at":"2026-01-27T18:22:29.902502+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-uqx.2","title":"Expose wgpuGetInstanceCapabilities (timedWaitAny)","description":"Add wrapper(s) to query timedWaitAnyEnable and timedWaitAnyMaxCount; add smoke test + docs.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:22:30.132239+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:30:59.030998+08:00","closed_at":"2026-01-27T18:30:59.030998+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-uqx.2","depends_on_id":"wgpu_mbt-uqx","type":"parent-child","created_at":"2026-01-27T18:22:30.13322+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-uqx.3","title":"Expose Device limits (selected fields)","description":"Add C stubs around wgpuDeviceGetLimits to expose common limit fields; add basic tests.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:22:30.251106+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:56:50.708364+08:00","closed_at":"2026-01-27T18:56:50.708364+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-uqx.3","depends_on_id":"wgpu_mbt-uqx","type":"parent-child","created_at":"2026-01-27T18:22:30.252113+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-uqx.4","title":"Add Instance wait_any helper","description":"Wrap wgpuInstanceWaitAny (poll + timed wait when enabled) behind safe MoonBit APIs; foundation for async ops.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:22:30.369741+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:56:50.70943+08:00","closed_at":"2026-01-27T18:56:50.70943+08:00","close_reason":"Closed","dependencies":[{"issue_id":"wgpu_mbt-uqx.4","depends_on_id":"wgpu_mbt-uqx","type":"parent-child","created_at":"2026-01-27T18:22:30.370692+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-wrs","title":"Consider adding X11 surface helpers (XCB/Xlib) for Linux","description":"We intentionally limited Linux surface support to Wayland-only for now (host passes wl_display*/wl_surface* via Instance::create_surface_wayland).\n\nIf needed later, re-add X11 surface helpers:\n- XCB: WGPUSurfaceSourceXCBWindow\n- Xlib: WGPUSurfaceSourceXlibWindow\n\nAcceptance:\n- Expose create_surface_xcb/create_surface_xlib in src/wgpu.mbt\n- Add C stubs in src/c/wgpu_stub_surface.c without depending on X11 headers\n- Document usage and add at least one non-macOS CI smoke test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-30T12:31:29.605006+08:00","created_by":"Milky2018","updated_at":"2026-02-01T22:06:31.776457+08:00","closed_at":"2026-02-01T22:06:31.776457+08:00","close_reason":"Wayland-only: X11 surface helpers not planned for this module"}
{"id":"wgpu_mbt-ws7","title":"Render pass + blending","description":"Implement additional render pass / pipeline features (loadOp, clear color, blending) with tests","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-26T17:58:58.692335+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:03:15.682446+08:00","closed_at":"2026-01-26T18:03:15.682451+08:00"}
{"id":"wgpu_mbt-ws7.1","title":"RenderPass load/clear","description":"Add C stubs + wrapper for render pass loadOp/load and clear color","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:59:06.682437+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:01:15.833965+08:00","closed_at":"2026-01-26T18:01:15.833968+08:00","dependencies":[{"issue_id":"wgpu_mbt-ws7.1","depends_on_id":"wgpu_mbt-ws7","type":"parent-child","created_at":"2026-01-26T17:59:06.683128+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-ws7.2","title":"Blend pipeline","description":"Add alpha-blend render pipeline + tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:59:06.779067+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:02:41.483989+08:00","closed_at":"2026-01-26T18:02:41.483991+08:00","dependencies":[{"issue_id":"wgpu_mbt-ws7.2","depends_on_id":"wgpu_mbt-ws7","type":"parent-child","created_at":"2026-01-26T17:59:06.779727+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-ws7.3","title":"Land changes","description":"Run quality gates and push","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T17:59:06.87199+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:03:15.601444+08:00","closed_at":"2026-01-26T18:03:15.601446+08:00","dependencies":[{"issue_id":"wgpu_mbt-ws7.3","depends_on_id":"wgpu_mbt-ws7","type":"parent-child","created_at":"2026-01-26T17:59:06.872595+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-wxl","title":"webgpu_capi: align render setIndexBuffer","description":"Replace mbt_wgpu_render_pass_set_index_buffer_{u16,u32} with direct call to generated wgpuRenderPassEncoderSetIndexBuffer. Add small C constant getters for WGPUIndexFormat_Uint16/Uint32 so MoonBit can pass enum values.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T09:34:22.074745+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:36:06.763564+08:00","closed_at":"2026-01-27T09:36:06.763565+08:00","dependencies":[{"issue_id":"wgpu_mbt-wxl","depends_on_id":"wgpu_mbt-avd","type":"blocks","created_at":"2026-01-27T09:34:22.075344+08:00","created_by":"Milky2018"}],"comments":[{"id":3,"issue_id":"wgpu_mbt-wxl","author":"Milky2018","text":"Added C enum constant getters for WGPUIndexFormat (uint16/uint32) and switched raw render_pass_set_index_buffer_{u16,u32} to call generated wgpuRenderPassEncoderSetIndexBuffer.","created_at":"2026-01-27T01:36:06Z"}]}
{"id":"wgpu_mbt-zno","title":"wgpu extras: adapter info/limits + error scopes","description":"Implement missing, commonly-used webgpu/wgpu-native APIs (macOS/Metal) and add root tests.","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T13:50:20.275053+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:00:35.497834+08:00","closed_at":"2026-01-27T14:00:35.497834+08:00","close_reason":"epic complete"}
{"id":"wgpu_mbt-zno.1","title":"wrap: Adapter.get_info (numeric)","description":"Add C stubs + wrapper methods to fetch adapter info (backendType/adapterType/vendorID/deviceID). Add root test.","notes":"Implementing adapter info numeric getters + test","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:50:28.903652+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:00:34.798288+08:00","closed_at":"2026-01-27T14:00:34.798288+08:00","close_reason":"implemented Adapter info getters + test","dependencies":[{"issue_id":"wgpu_mbt-zno.1","depends_on_id":"wgpu_mbt-zno","type":"parent-child","created_at":"2026-01-27T13:50:28.904368+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-zno.2","title":"wrap: Adapter.get_limits (selected fields)","description":"Expose selected WGPULimits fields via C stubs + wrapper. Add root test.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:50:28.991673+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:00:35.083418+08:00","closed_at":"2026-01-27T14:00:35.083418+08:00","close_reason":"implemented Adapter limits getters + test","dependencies":[{"issue_id":"wgpu_mbt-zno.2","depends_on_id":"wgpu_mbt-zno","type":"parent-child","created_at":"2026-01-27T13:50:28.992268+08:00","created_by":"Milky2018"}]}
{"id":"wgpu_mbt-zno.3","title":"wrap: Device error scope push/pop","description":"Implement pushErrorScope/popErrorScope sync wrapper (processEvents loop). Add root test that captures validation error.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:50:29.077612+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:00:35.293524+08:00","closed_at":"2026-01-27T14:00:35.293524+08:00","close_reason":"implemented Device error scope push/pop sync wrapper + test","dependencies":[{"issue_id":"wgpu_mbt-zno.3","depends_on_id":"wgpu_mbt-zno","type":"parent-child","created_at":"2026-01-27T13:50:29.078162+08:00","created_by":"Milky2018"}]}
